!function(e){function t(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.presto_init;window.presto_init=function(i,a){for(var s,o,u=0,l=[];u<i.length;u++)o=i[u],r[o]&&l.push.apply(l,r[o]),r[o]=0;for(s in a)e[s]=a[s];for(n&&n(i,a);l.length;)l.shift().call(null,t)};var i={},r={5:0};return t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var i=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.src=t.p+""+e+"."+({}[e]||e)+"."+{1:"d18e00997ae648976658",3:"60c30e7317ec9045eace",4:"0be8b0b2380cd19ae05d",6:"fe2509ff0dececef7c3c",7:"2bde51f2a7f29308de3b",8:"2e750763378e18d1f6a9",9:"1cb146046cbabdd1cbc5",10:"571eaaa35cba71837976",11:"e3371e4876698ec4748b",12:"0df8b499cef657b2b416",13:"b414c48c8ae1b0b2b35c",14:"f09e3ab8c3f246f4ef88"}[e]+".js",i.appendChild(a)}},t.m=e,t.c=i,t.p="https://cdn0.vox-cdn.com/presto/",t(0)}([function(e,t,n){n(1),n(164),n(179),n(183),n(97),n(186),n(166),n(165),n(100),n(190),n(191),n(226),n(229),n(202),n(192),n(232),n(233),n(244),n(247),n(174),n(195),n(250),n(253),n(256),n(261),n(263),n(266),n(272),n(275),n(283),n(286),n(294),n(208),n(234),n(297),n(300),n(276),n(303),n(306),n(310),n(312),n(239),n(315),n(318),n(321),n(203),n(324),n(329),n(332),n(335),n(338),n(341),n(345),n(348),n(351),n(360),n(363),n(213),n(287),n(369),n(373),n(376),n(380),n(383),n(386),n(199),n(389),n(392),n(395),n(398),n(402),n(407),n(410),n(413),n(416),n(419),n(422),n(425),n(428),n(431),n(434),n(437),n(440),n(443),n(446),n(449),n(453),n(456),n(459),n(463),n(466),n(469),n(472),n(476),n(479),n(482),n(485),n(490),n(493),n(498),n(501),n(504),n(507),n(511),n(514),n(519),n(522),n(525),n(528),n(531),n(534),n(537),n(540),n(543),n(546),n(549),n(552),n(555),n(559),n(567),n(53),n(578),n(585),n(592),n(597),n(124),e.exports=n(601)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(2);var r=n(6),a=i(r),s=n(7),o=i(s),u=n(9),l=i(u);n(11),n(12),n(13),a.default.readyTask(function(){var e=n(14),t=function(){e.notify(o.default.get("messaging"))};o.default.on("change:messaging",t),t();var i=n(17);i.sendContext(),o.default.fetch().then(function(){var e=n(22);e.install(o.default.get("volume").embed_host)})},{priority:a.default.HIGH}),a.default.readyTask(function(){var e=window.chorusInitQueue=window.chorusInitQueue||[],t=function(e){if("function"==typeof e)try{e.call(null,l.default)}catch(e){console.log("chorusInitQueue: Error processing command :"+e.message)}};e.push=function(e){t(e)};for(var n=0;n<e.length;n++)t(e[n])},{priority:a.default.LOW}),o.default.fetch(),window.Context=o.default},function(e,t){},,,,function(e,t){"use strict";function n(e,t,n){var i;return function(){var r=n||this,a=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(r,a)},t)}}function i(){var e=this;this._c={},this._cinit={},this._onReady=[],this._buffer=[],this._queue=[],this._running=!1,this.onReady(function(){e._onReady.forEach(function(t){e.task(t[0],t[1])}),e._onReady=null,e.run()})}var r=window;r.requestIdleCallback=r.requestIdleCallback||function(e){function t(){var t=Date.now();e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}return r.requestAnimationFrame?r.requestAnimationFrame(t):setTimeout(t,1)},i.prototype={onReady:r.jQuery||function(){var e,t=[],n=document,i=n.documentElement.doScroll,r="DOMContentLoaded",a=(i?/^loaded|^c/:/^loaded|^i|^c/).test(n.readyState);return a||n.addEventListener(r,e=function(){for(n.removeEventListener(r,e),a=1;e=t.shift();)e()}),function(e){a?e():t.push(e)}}(),LOW:0,MEDIUM:50,HIGH:100,registerComponent:function(e,t,n){"function"!=typeof t&&(n=t,t=function(){}),n=n||{},this._c[e]={fn:t,ex:n,priority:"number"==typeof n.priority?n.priority:this.MEDIUM},this._onReady||this.run()},get:function(e){if(!this._c.hasOwnProperty(e))throw'Component "'+e+'" is not defined. Add it as a dependency of the getter.';return this._c[e].ex},run:n(function(e){for(var t=(e||document).querySelectorAll("[data-cid]"),n=function(e,t){this.readyTask(function(){try{t.fn(e,JSON.parse(e.getAttribute("data-cdata")||"{}"))}catch(t){console.log("presto: error initializing "+e.getAttribute("data-cid"))}},{priority:t.priority})}.bind(this),i=0;i<t.length;i+=1){var r=t[i],a=r.getAttribute("data-cid"),s=a.split("-")[0],o=this._c[s];!this._cinit[a]&&o&&(this._cinit[a]=!0,n(r,o))}},10),readyTask:function(e,t){return this._onReady?void this._onReady.push([e,t]):this.task(e,t)},task:function e(t,n){var i=this,e={};for(var a in n)e[a]=n[a];if(e.fn=t,void 0===e.priority&&(e.priority=this.MEDIUM),this._buffer.push(e),!this._running){var s=function e(){i._running=!0,r.requestIdleCallback(function(t){for(i._queue=i._queue.concat(i._buffer).sort(function(e,t){return e.priority-t.priority}),i._buffer.length=0;i._queue.length&&t.timeRemaining()>0;)i._queue.pop().fn();i._queue.length||i._buffer.length?e():i._running=!1},{timeout:35})};s()}}},e.exports=new i,e.exports._class=i},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(9),o=i(s),u=n(10),l=i(u),c={fetch:function(e){return this.ctx._fetch(e)},reset:function(){this.set(this.defaults,{silent:!0})}},d=a.default.Model.extend(l.default.extend({url:"/services/user_context",log:[],defaults:{auth_url:"",env:null,messaging:"",privacy_policy_update_id:null},initialize:function(){var e,t,n,i;this.currentUser=e=new f,this.currentMember=t=new h,this.currentCommunity=n=new m,this.currentNetwork=i=new p,e.ctx=t.ctx=n.ctx=i.ctx=this.ctx=this},parse:function(e){return this.currentUser.set(e.user||{}),this.currentMember.set(e.member||{}),this.currentCommunity.set(e.community||{}),this.currentNetwork.set(e.network||{}),["user","member","community","network"].forEach(function(t){delete e[t]}),e},_fetch:function(e){var t=this;return this._ajax||(this.log.push("fetch"),this._ajax=a.default.Model.prototype.fetch.call(this,e).done(function(){return t.log.push("fetch complete")})),this._ajax},fetchUser:function(e){var t=this;if(e&&e.refresh&&(this.currentUser.reset(),this._user=null,"object"==typeof Chorus&&(Chorus.ssoLogin=null)),!this._user){var n=this._user=o.default.Deferred();this.log.push("Fetching Primary Context"),this._fetch().done(function(){if(t.log.push("Primary complete, with user: "+t.currentUser.get("id")),t.currentUser.get("id"))return n.resolve();var i=t.get("auth_url")+"/sso/unison_request?community_id="+t.currentCommunity.get("id")+"&t="+Date.now();t.log.push("Fetching SSO-1: "+i),l.default.loadScript(i,function(){if(t.log.push("SSO-1 complete, with status: "+Chorus.ssoLogin),!Chorus.ssoLogin)return n.resolve();var i=Chorus.ssoLogin;Chorus.ssoLogin=null,t.log.push("Fetching SSO-2: "+i),l.default.loadScript(i,function(){return t.log.push("SSO-2 complete, with status: "+Chorus.ssoLogin),Chorus.ssoLogin?(t.log.push("Fetching Secondary Context"),t.url+="?t="+Date.now(),void a.default.Model.prototype.fetch.call(t,e).done(function(){t.log.push("Secondary complete, with user: "+t.currentUser.get("id")),n.resolve()})):n.resolve()})})})}return this._user.promise()},isProd:function(){return"production"===this.get("env")}},c)),f=a.default.Model.extend(l.default.extend(c,{defaults:{account_settings_url:null,ban_acknowledgement_needed:!1,can_edit:!1,contributor_agreement_accepted:!1,country:null,edit_profile_url:null,email:null,first_name:null,id:null,is_network_member:!1,is_community_member:!1,last_login:null,last_name:null,network_admin:!1,profile_image_url:null,profile_url:null,status:null,time_zone:null,username:null,geo:null},fetch:function(e){return this.ctx.fetchUser(e)},isLoggedIn:function(){return!!this.get("id")}})),h=a.default.Model.extend(l.default.extend(c,{defaults:{ban_acknowledgement_needed:!1,community_id:null,comment_count:null,display_on_masthead:!1,favorite:!1,last_visited_on:null,legacy_nickname:null,legacy_user_id:null,short_bio:null,status:null,user_id:null},fetch:function(e){return this.ctx.fetchUser(e)}})),p=a.default.Model.extend(l.default.extend({defaults:{domain:null,id:!1,name:null,primary_community_url:""}},c)),m=a.default.Model.extend(l.default.extend({defaults:{domain:null,id:!1,name:null,terms_of_agreement:"",community_guidelines_url:null}},c));e.exports=new d},function(e,t,n){var i=n(9);/*!
	 * Function.bind polyfill
	 * Provided to normalize environments.
	 */
Function.prototype.bind=Function.prototype.bind||function(e){var t=this;return function(){return t.apply(e,arguments)}},/*!
	 * Exoskeleton.js 0.6.3
	 * (c) 2013 Paul Miller <http://paulmillr.com>
	 * Based on Backbone.js
	 * (c) 2010-2013 Jeremy Ashkenas, DocumentCloud
	 * Exoskeleton may be freely distributed under the MIT license.
	 * For all details and documentation: <http://exosjs.com>
	 */
function(e,n){e.Backbone=n(e,t,null,i)}(this,function(e,t,n,i){"use strict";var r=e.Backbone,a=e.Exoskeleton,s=t.utils=n=n||{};t.$=i;var o=[],u=o.push,l=o.slice,c={}.toString;t.noConflict=function(){return e.Backbone=r,e.Exoskeleton=a,this},t.extend=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var a=function(){this.constructor=i};return a.prototype=r.prototype,i.prototype=new a,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};var d=function(){throw new Error('A "url" property or function must be specified')},f=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}},h=function(e){return"function"==typeof n[e]};s.result=function(e,t){var n=e?e[t]:void 0;return"function"==typeof n?e[t]():n},s.defaults=function(e){return l.call(arguments,1).forEach(function(t){for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},s.extend=function(e){return l.call(arguments,1).forEach(function(t){for(var n in t)e[n]=t[n]}),e};var p={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};s.escape=function(e){return null==e?"":String(e).replace(/[&<>"']/g,function(e){return p[e]})},s.sortBy=function(e,t,n){var i="function"==typeof t?t:function(e){return e[t]};return e.map(function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}).map(function(e){return e.value})};var m=0;s.uniqueId=function(e){var t=++m+"";return e?e+t:t},s.has=function(e,t){return Object.hasOwnProperty.call(e,t)};var v=function(e,t,i,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;var a=c.call(e);if(a!=c.call(t))return!1;switch(a){case"[object String]":return e==String(t);case"[object Number]":return e!==+e?t!==+t:0===e?1/e===1/t:e===+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var s=i.length;s--;)if(i[s]==e)return r[s]==t;var o=e.constructor,u=t.constructor;if(o!==u&&!("function"==typeof o&&o instanceof o&&"function"==typeof u&&u instanceof u))return!1;i.push(e),r.push(t);var l=0,d=!0;if("[object Array]"===a){if(l=e.length,d=l===t.length)for(;l--&&(d=v(e[l],t[l],i,r)););}else{for(var f in e)if(n.has(e,f)&&(l++,!(d=n.has(t,f)&&v(e[f],t[f],i,r))))break;if(d){for(f in t)if(n.has(t,f)&&!l--)break;d=!l}}return i.pop(),r.pop(),d};s.isEqual=function(e,t){return v(e,t,[],[])};var g=t.Events={on:function(e,t,n){if(!b(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,n){if(!b(this,"once",e,[t,n])||!t)return this;var i,r=this,a=function(){i||(i=!0,r.off(e,a),t.apply(this,arguments))};return a._callback=t,this.on(e,a,n)},off:function(e,t,n){var i,r,a,s,o,u,l,c;if(!this._events||!b(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(s=e?[e]:Object.keys(this._events),o=0,u=s.length;o<u;o++)if(e=s[o],a=this._events[e]){if(this._events[e]=i=[],t||n)for(l=0,c=a.length;l<c;l++)r=a[l],(t&&t!==r.callback&&t!==r.callback._callback||n&&n!==r.context)&&i.push(r);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=l.call(arguments,1);if(!b(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&y(n,t),i&&y(i,arguments),this},stopListening:function(e,t,n){var i=this._listeningTo;if(!i)return this;var r=!t&&!n;n||"object"!=typeof t||(n=this),e&&((i={})[e._listenId]=e);for(var a in i)e=i[a],e.off(t,n,this),!r&&Object.keys(e._events).length||delete this._listeningTo[a];return this}},_=/\s+/,b=function(e,t,n,i){if(!n)return!0;var r;if("object"==typeof n){for(var a in n)r=[a,n[a]],u.apply(r,i),e[t].apply(e,r);return!1}if(_.test(n)){for(var s=n.split(_),o=0,l=s.length;o<l;o++)r=[s[o]],u.apply(r,i),e[t].apply(e,r);return!1}return!0},y=function(e,t){var n,i=-1,r=e.length,a=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,a,s,o);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t)}},w={listenTo:"on",listenToOnce:"once"};Object.keys(w).forEach(function(e){var t=w[e];g[e]=function(e,i,r){var a=this._listeningTo||(this._listeningTo={}),s=e._listenId||(e._listenId=n.uniqueId("l"));return a[s]=e,r||"object"!=typeof i||(r=this),e[t](i,r,this),this}}),g.bind=g.on,g.unbind=g.off;var x=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes=Object.create(null),t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed=Object.create(null),this.initialize.apply(this,arguments)};if(n.extend(x.prototype,g,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(e){return n.extend({},this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,a,s,o,u,l,c,d;if(null==e)return this;if("object"==typeof e?(a=e,i=t):(a={})[e]=t,i||(i={}),!this._validate(a,i))return!1;s=i.unset,u=i.silent,o=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.extend(Object.create(null),this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in a&&(this.id=a[this.idAttribute]);for(r in a)t=a[r],n.isEqual(d[r],t)||o.push(r),n.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,s?delete d[r]:d[r]=t;if(!u){o.length&&(this._pending=i);for(var f=0,h=o.length;f<h;f++)this.trigger("change:"+o[f],this,d[o[f]],i)}if(l)return this;if(!u)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!!Object.keys(this.changed).length:n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.extend(Object.create(null),this.changed);var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var a in e)n.isEqual(r[a],t=e[a])||((i||(i={}))[a]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.extend(Object.create(null),this._previousAttributes)},fetch:function(e){e=e?n.extend({},e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return!!t.set(t.parse(n,e),e)&&(i&&i(t,n,e),void t.trigger("sync",t,n,e))},f(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,a,s,o=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend(Object.create(null),o,r)),void 0===i.parse&&(i.parse=!0);var u=this,l=i.success;return i.success=function(e){u.attributes=o;var t=u.parse(e,i);return i.wait&&(t=n.extend(r||{},t)),!(t&&"object"==typeof t&&!u.set(t,i))&&(l&&l(u,e,i),void u.trigger("sync",u,e,i))},f(this,i),a=this.isNew()?"create":i.patch?"patch":"update","patch"===a&&(i.attrs=r),s=this.sync(a,this,i),r&&i.wait&&(this.attributes=o),s},destroy:function(e){e=e?n.extend({},e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;f(this,e);var a=this.sync("delete",this,e);return e.wait||r(),a},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||d();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend(Object.create(null),this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}}),n.keys){var k=["keys","values","pairs","invert","pick","omit"];k.filter(h).forEach(function(e){x.prototype[e]=function(){var t=l.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}})}var C=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},$={add:!0,remove:!0,merge:!0},E={add:!0,remove:!1};if(n.extend(C.prototype,g,{model:"undefined"==typeof x?null:x,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,E))},remove:function(e,t){var n=!Array.isArray(e);e=n?[e]:e.slice(),t||(t={});var i,r,a,s;for(i=0,r=e.length;i<r;i++)s=e[i]=this.get(e[i]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s,t));return n?e[0]:e},set:function(e,t){t=n.defaults({},t,$),t.parse&&(e=this.parse(e,t));var i=!Array.isArray(e);e=i?e?[e]:[]:e.slice();var r,a,s,o,u,l,c,d=t.at,f=this.model,h=this.comparator&&null==d&&t.sort!==!1,p="string"==typeof this.comparator?this.comparator:null,m=[],v=[],g={},_=t.add,b=t.merge,y=t.remove,w=!(h||!_||!y)&&[];for(r=0,a=e.length;r<a;r++){if(u=e[r]||{},s=u instanceof x?o=u:u[f.prototype.idAttribute||"id"],l=this.get(s))y&&(g[l.cid]=!0),b&&(u=u===o?o.attributes:u,t.parse&&(u=l.parse(u,t)),l.set(u,t),h&&!c&&l.hasChanged(p)&&(c=!0)),e[r]=l;else if(_){if(o=e[r]=this._prepareModel(u,t),!o)continue;m.push(o),this._addReference(o,t)}o=l||o,!w||!o.isNew()&&g[o.id]||w.push(o),g[o.id]=!0}if(y){for(r=0,a=this.length;r<a;++r)g[(o=this.models[r]).cid]||v.push(o);v.length&&this.remove(v,t)}if(m.length||w&&w.length)if(h&&(c=!0),this.length+=m.length,null!=d)for(r=0,a=m.length;r<a;r++)this.models.splice(d+r,0,m[r]);else{w&&(this.models.length=0);var k=w||m;for(r=0,a=k.length;r<a;r++)this.models.push(k[r])}if(c&&this.sort({silent:!0}),!t.silent){for(r=0,a=m.length;r<a;r++)(o=m[r]).trigger("add",o,this,t);(c||w&&w.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;i<r;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return l.apply(this.models,arguments)},get:function(e){if(null!=e)return this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return e&&Object.keys(e).length?this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0}):t?void 0:[]},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),"string"==typeof this.comparator||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(this.comparator.bind(this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.models.map(function(t){return t.get(e)})},fetch:function(e){e=e?n.extend({},e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},f(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.extend({},t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId=Object.create(null)},_prepareModel:function(e,t){if(e instanceof x)return e;t=n.extend({},t),t.collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e,t){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}}),h("each")){var T=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain"];T.filter(h).forEach(function(e){C.prototype[e]=function(){var t=l.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var M=["groupBy","countBy","sortBy"];M.filter(h).forEach(function(e){C.prototype[e]=function(t,i){var r="function"==typeof t?t:function(e){return e.get(t)};return n[e](this.models,r,i)}})}else["forEach","map","filter","some","every","reduce","reduceRight","indexOf","lastIndexOf"].forEach(function(e){C.prototype[e]=function(t,n){return this.models[e](t,n)}}),C.prototype.find=function(e,t){var n;return this.some(function(i,r,a){if(e.call(t,i,r,a))return n=i,!0}),n},["sortBy"].forEach(function(e){C.prototype[e]=function(t,i){var r="function"==typeof t?t:function(e){return e.get(t)};return n[e](this.models,r,i)}});var S=t.View=function(e){this.cid=n.uniqueId("view"),e&&Object.keys(e).forEach(function(t){A.indexOf(t)!==-1&&(this[t]=e[t])},this),this._ensureElement(),this.initialize.apply(this,arguments)},j=/^(\S+)\s*(.*)$/,A=["model","collection","el","id","attributes","className","tagName","events"];n.extend(S.prototype,g,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];"function"!=typeof i&&(i=this[e[t]]);var r=t.match(j);this.delegate(r[1],r[2],i.bind(this))}return this},delegate:function(e,t,n){this.$el.on(e+".delegateEvents"+this.cid,t,n)},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){this.$el.off(e+".delegateEvents"+this.cid,t,n)},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){r||(r={});var a=I[e],s={type:a,dataType:"json"};r.url||(s.url=n.result(i,"url")||d()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),"GET"!==s.type&&(s.processData=!1);var o=r.xhr=t.ajax(n.extend(s,r));return i.trigger("request",i,o,r),o};var I={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var O=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},L=/\((.*?)\)/g,P=/(\(\?)?:\w+/g,N=/\*\w+/g,R=/[\-{}\[\]+?.,\\\^$|#\s]/g,D=function(e){return!!e&&("object"==typeof e&&"[object RegExp]"===c.call(e))};n.extend(O.prototype,g,{initialize:function(){},route:function(e,n,i){D(e)||(e=this._routeToRegExp(e)),"function"==typeof n&&(i=n,n=""),i||(i=this[n]);var r=this;return t.history.route(e,function(a){var s=r._extractParameters(e,a);r.execute(i,s),r.trigger.apply(r,["route:"+n].concat(s)),r.trigger("route",n,s),t.history.trigger("route",r,n,s)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=Object.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(R,"\\$&").replace(L,"(?:$1)?").replace(P,function(e,t){return t?e:"([^/?]+)"}).replace(N,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var n=e.exec(t).slice(1);return n.map(function(e,t){return t===n.length-1?e||null:e?decodeURIComponent(e):null})}});var z=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},q=/^[#\/]|\s+$/g,B=/^\/+|\/+$/g,F=/\/$/,U=/[#].*$/;return z.started=!1,n.extend(z.prototype,g,{atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._wantsPushState||!this._wantsHashChange){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(F,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(q,"")},start:function(e){if(z.started)throw new Error("Backbone.history has already been started");z.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState;var t=this.getFragment();this.root=("/"+this.root+"/").replace(B,"/"),this._wantsPushState?window.addEventListener("popstate",this.checkUrl,!1):this._wantsHashChange&&window.addEventListener("hashchange",this.checkUrl,!1),this.fragment=t;var i=this.location;if(this._wantsHashChange&&this._wantsPushState&&this.atRoot()&&i.hash&&(this.fragment=this.getHash().replace(q,""),this.history.replaceState({},document.title,this.root+this.fragment)),!this.options.silent)return this.loadUrl()},stop:function(){window.removeEventListener("popstate",this.checkUrl),window.removeEventListener("hashchange",this.checkUrl),z.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e!==this.fragment&&void this.loadUrl()},loadUrl:function(e){return e=this.fragment=this.getFragment(e),this.handlers.some(function(t){if(t.route.test(e))return t.callback(e),!0})},navigate:function(e,t){if(!z.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(U,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._wantsPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace)}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),["Model","Collection","Router","View","History"].forEach(function(e){var n=t[e];n&&(n.extend=t.extend)}),n.extend(t,g),z&&(t.history=new z),t})},function(e,t){(function(t){e.exports=t.jQuery}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(9),a=i(r),s={"&":["&amp;","&AMP;","&#x00026;","&#x0026;","&#x026;","&#x26;","&#38;"],"<":["&lt;","&LT;","&#x0003C;","&#x003C;","&#x03C;","&#x3C;","&#60;"],">":["&gt;","&GT;","&#x0003E;","&#x003E;","&#x03E;","&#x3E;","&#62;"],'"':["&quot;","&QUOT;","&#x00022;","&#x0022;","&#x022;","&#x22;","&#34;"],"'":["&#x27;","&apos;","&#x00027;","&#x0027;","&#x027;","&#39;"],"`":["&#x60;","&grave;","&DiacriticalGrave;","&#x00060;","&#x0060;","&#x060;","&#96;"]};e.exports={extend:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}return e},all:function(){function e(){o.length===s?r.resolve(o):o.length+u.length===s&&r.reject(u,o)}for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];n[0]instanceof Array&&(n=n[0]);for(var r=a.default.Deferred(),s=n.length,o=[],u=[],l=0;l<s;l++)n[l]&&n[l].then(function(t){o.push(t),e()},function(t){u.push(t),e()});return r.promise()},pick:function(e){for(var t={},n=1;n<arguments.length;n++)t[arguments[n]]=e[arguments[n]];return t},debounce:function(e,t,n){var i;return function(){var r=n||this,a=arguments;clearTimeout(i),i=setTimeout(function(){e.apply(r,a)},t)}},throttle:function(e,t,n){var i=null,r=!1,a=function a(){return i?void(r=!0):(n=n||this,e.call(n),void(i=setTimeout(function(){var e=r;i=null,r=!1,e&&a.call(n)},t)))};return a},get:function(e,t,n){var i=0;for(t=t.replace(/\]/g,"").split(/[\[\.]/);null!=e&&i<t.length;)e=e[t[i++]];return i&&i===t.length&&void 0!==e?e:n},paramitize:function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n+"="+e[n]);return t.join("&")},deparamitize:function(e){var t={};e=(e||"").replace(/^(\?|\&)/,"").split("&");for(var n=0;n<e.length;n++){var i=e[n].split(/=(.+)?/);i.length>1&&(t[i[0]]=i[1]||"")}return t},currentUrl:function(){var e="";return e+=window.location.origin?window.location.origin:window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:""),e+=window.location.pathname},loadScript:function(e,t){var n=document.createElement("script");"function"==typeof t&&(n.onload=t),n.async=!0,n.src=e;var i=document.getElementsByTagName("script")[0];return i.parentNode.insertBefore(n,i),n},escape:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0],t=function(e){return s[e][0]},n="(?:"+Object.keys(s).join("|")+")",i=RegExp(n,"g");return e.replace(i,t)},unescape:function(){var e=arguments.length<=0||void 0===arguments[0]?"":arguments[0];for(var t in s){var n="(?:"+s[t].join("|")+")",i=RegExp(n,"g");e=e.replace(i,t)}return e}}},function(e,t,n){e.exports=n.p+"components/foundation/base/assets/polygon_badge.9af0b16f5b13a9a02573cff2d7cd457b.svg"},function(e,t,n){e.exports=n.p+"components/foundation/base/assets/polygon_badge_hover.6521888a20ba7dced8bf2f3769c62587.svg"},function(e,t,n){e.exports=n.p+"components/foundation/base/assets/polygon_badge_review.e3d01cb6fd97ad5e146507cad1c39dd6.svg"},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r,a=n(9),s=i(a),o=n(15),u=i(o),l='<div class="p-notice" id="notice"></div>',c='<button class="p-notice-dismiss" id="notice-dismiss">×</button>';e.exports={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",notify:function(e,t){return this._open(e,null,t)},info:function(e,t){return this._open(e,this.INFO,t)},success:function(e,t){return this._open(e,this.SUCCESS,t)},warning:function(e,t){return this._open(e,this.WARNING,t)},error:function(e,t){return this._open(e,this.ERROR,t)},parse:function(e){var t=e.trim().match(/^<(?:div|span)[^>]*class=['"]([\s\w-]+)['"][^>]*>([\S\s]+)<\/(?:div|span)>$/);return{message:t?t[2]:e,classes:t?t[1]:""}},_open:function(e,t){var i=this,a=arguments.length<=2||void 0===arguments[2]||arguments[2];if(!e)return this.close();this.$el&&(this.$el.remove(),this.$el=null);var o=this.parse(e);if(!t){if(/__modal/.test(o.classes))return n(16).dialog(o.message);t=/__error/.test(o.classes)?this.ERROR:this.INFO}return this.$el=(0,s.default)(l).html(o.message).append(c).addClass("p-notice-"+t).on("click","#notice-dismiss",function(){i.close()}).appendTo("body"),setTimeout(function(){i.$el.css("top","0")},0),a&&(clearTimeout(r),r=setTimeout(function(){i.close()},2e3+25*e.length)),this},close:function(){var e=this;if(this.$el){var t=function(){e.$el.remove(),e.$el=null};u.default.TRANSITION_END?this.$el.one(u.default.TRANSITION_END,t).css("top",""):t()}return this}}},function(e,t){"use strict";function n(e){for(var t in e)if("undefined"!=typeof document.body.style[t])return e[t]}e.exports={TRANSITION_END:n({transition:"transitionend",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend"}),ANIMATION_END:n({animation:"animationend",WebkitAnimation:"webkitAnimationEnd",msAnimation:"MSAnimationEnd",OAnimation:"oAnimationEnd"}),requestAnimationFrame:function(){var e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;return function(t){e?e(t):setTimeout(t,0)}}()}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(6),a=i(r),s=n(8),o=i(s),u=n(9),l=i(u),c=n(10),d=i(c),f=n(15),h=i(f),p='<div class="p-modal__window" id="modal-window"></div>',m='<button class="p-modal__close" id="modal-close">×</button>',v="modal-active",g="modal-open",_="p-modal__loading",b="click.modal";e.exports=d.default.extend({$el:null,dialog:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this._open(e,t)},overlay:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return this._open(e,d.default.extend(t,{fixedSize:!0}))},parse:function(e){var t=this,n="object"==typeof e;return n&&e.iframe?'<iframe src="'+e.iframe+'" width="100%" height="100%"></iframe>':n&&e.ajax?(l.default.ajax({url:e.ajax,success:function(e){t.$el&&t.$el.find("#modal-ajax").html(e),a.default.run()},error:function(){t.close()}}),'<div id="modal-ajax"><div class="'+_+'">Loading...</div></div>'):e||""},_open:function(e,t){var n=this;return this.close(),this.$el=(0,l.default)(p).addClass(t&&t.fixedSize?"fixed-size":"auto-size").addClass(t&&t.className?t.className:"").html(this.parse(e)).append(m),this.trigger("before:open"),setTimeout(function(){var e=(0,l.default)("body");e.append(n.$el).addClass(v).off(b).on(b,function(e){var t=(0,l.default)(e.target);t.closest(n.$el).length&&!t.is("#modal-close")||(e.stopImmediatePropagation(),n.close())}),setTimeout(function(){e.addClass(g)},0),n.trigger("open")},0),this},close:function(){var e=this;if(this.$el){this.trigger("before:close");var t=(0,l.default)("body").off(b),n=function(){e.$el.remove(),e.$el=null,t.removeClass(v+" "+g+" "+_),e.trigger("close")};return h.default.TRANSITION_END&&"fixed"===t.css("position")?(this.$el.one(h.default.TRANSITION_END,n),t.removeClass(g)):n(),this}},ajaxForms:function(){var e=this,t=l.default.Deferred();return this.$el&&this.$el.on("submit",function(n){n.preventDefault();var i=(0,l.default)(n.target);l.default.ajax({url:i.attr("action"),data:i.serialize(),method:"post",success:function(){e.close(),t.resolve()},error:function(){t.reject()}})}),t.promise()}},o.default.Events)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=this,t=arguments.length<=0||void 0===arguments[0]?"dataLayer":arguments[0];this.dataLayer=window[t]||[],this.depths=[25,50,75,90],this.onReady(function(){var t=[].slice.call(document.querySelectorAll("[data-analytics-viewport]"));t=t.filter(function(e){return"video"!==e.getAttribute("data-analytics-viewport")}),/analytics-viewport=~false~/.test(location.search)||e.trackElementView(t),e.trackScrollDepth(!0)})}function a(e,t,n){var i=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];return function(){for(var r=arguments.length,a=Array(r),s=0;s<r;s++)a[s]=arguments[s];a[0]instanceof Array&&(a=a[0]),"string"==typeof a[0]&&a[0].match(/send|_track/)&&a.shift(),a[0]===e.toLowerCase()&&a.shift();for(var o=0,u={},l=0;l<a.length||o<n.length;l++){var c=a[l];if("function"==typeof c)u.eventCallback=c;else if("boolean"==typeof c)c&&(u.eventNonInt=c);else if("object"==typeof c)for(var d in c)c.hasOwnProperty(d)&&(u[i[d]||d]=c[d]);else if(n[o]){var f=n[o++];u.hasOwnProperty(f)||(u[f]=c)}}return u.event=t,u}}var s=n(9),o=i(s),u=n(7),l=n(10),c=i(l),d=n(18),f=i(d),h=n(20),p=i(h);r.prototype={onReady:o.default,push:function(e){this.dataLayer.push(e)},formatEvent:a("event","analyticsEvent",["eventCategory","eventAction","eventLabel","eventValue","eventNonInt"],{nonInteraction:"eventNonInt",hitCallback:"eventCallback"}),formatSocial:a("social","social",["socialNetwork","socialAction","socialTarget","socialPagePath"],{page:"socialPagePath",hitCallback:"eventCallback"}),formatPageview:a("pageview","virtualPageView",["virtualPagePath","virtualPageTitle"],{page:"virtualPagePath",title:"virtualPageTitle",hitCallback:"eventCallback"}),event:function(){this.push(this.formatEvent.apply(this,arguments))},social:function(){this.push(this.formatSocial.apply(this,arguments))},pageview:function(){this.push(this.formatPageview.apply(this,arguments))},nav:function(e,t,n){e=[e,this.contentType(),this.contentFormat()].join(":"),this.push(this.formatEvent("navigation",e,t,n))},eventAutoFormat:function(e,t,n){var i=[e,t].join(":"),r=[e,this.contentType(),t].join(":");return this.event(e,i,r,n)},trackElementView:function(e){var t=this,n=function(e){t.push({event:"elementView","gtm.element":e})};"string"==typeof e?e=document.querySelectorAll(e):Array.isArray(e)||(e=[e]);for(var i=0;i<e.length;i++)p.default.trackElement(e[i],n)},trackScrollDepth:function(e){e&&e.hasOwnProperty("disable")&&(this._noSD=e.disable),this._noSD&&(e=!1);var t="scroll.scrolldepth",n=(0,o.default)(window).off(t);e&&(n.on(t,c.default.throttle(this._depth,100,this)),this._depth(!0))},_depth:function(e,t,n,i){var r=this.depths;i=i||window.pageYOffset,t=t||window.innerHeight,n=n||document.body.scrollHeight;for(var a=i/n*100,s=(i+t)/n*100,o=r.length-1;o>=0;o--){var u=r[o];if((u>=a&&u<=s||e&&u<=s)&&(this.eventAutoFormat("interaction",u,!0),r.splice(o,1),e))return}r.length||this.trackScrollDepth(!1)},getVariable:function(e){for(var t=this.dataLayer,n=t.length-1;n>=0;n--)if(t[n].hasOwnProperty(e))return t[n][e]},contentType:function(){return this.getVariable("Content Type")||"other"},contentFormat:function(){var e=f.default.breakpoint(),t=/small|medium/.test(e)||f.default.isSmallWindow(600);return t?"mobile":"desktop"},sendContext:function(){var e=this;u.currentUser.fetch().then(function(){var t=n(21),i=t.server(t.EST);e.push({"Hour of Day":i.getHours(),"Day of Week":t.nameOfDay(i.getDay()).toLowerCase(),"Logged in Status":u.currentUser.get("id")?"Logged In":"Logged Out",Breakpoint:f.default.breakpoint()})})}},e.exports=new r,e.exports._class=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(9),a=i(r),s=n(19),o=i(s),u=n(10),l=i(u),c=600,d=800,f=600;e.exports={isTouch:function(){return void 0===this._touch&&(this._touch="ontouchstart"in window||navigator.msMaxTouchPoints>0),this._touch},isSmallWindow:function(e){
e=e||f;var t=document.documentElement,n=window.innerWidth||t&&t.clientWidth||document.body.clientWidth;return n<=e},isSmallScreen:function(e,t){var n=0;isNaN(parseInt(window.orientation))?isNaN(l.default.get(window,"screen.orientation.angle",NaN))||(n=window.screen.orientation.angle):n=window.orientation;var i=90==n||n==-90||270==n,r=i?screen.height:screen.width,e=i?t||d:e||c;return r<=e},isMobile:function(){return this.isTouch()&&this.isSmallScreen()},isFullScreen:function(){return document.isFullScreen||document.mozIsFullScreen||document.webkitIsFullScreen},isCORSEnabled:function(){return!window.navigator.userAgent.match(/MSIE (6|7|8|9)/)},breakpoint:function(){for(var e=[{name:"xsmall",min:0,max:400},{name:"small",min:401,max:f},{name:"medium_small",min:601,max:728},{name:"medium",min:749,max:880},{name:"large_medium",min:881,max:950},{name:"large",min:956,max:1080},{name:"xlarge_large",min:1081,max:1200},{name:"xlarge",min:1201,max:1500},{name:"xxlarge",min:1501,max:1/0}],t=e.length-1;t>=0;t--){var n=e[t],i=screen.width;if(i>=n.min&&i<=n.max)return n.name}return n.name},browser:function e(){if(!this._browser){var t=navigator.userAgent.toLowerCase(),n=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||/(firefox)[ \/]([\w.]+)/.exec(t)||/(trident)[ \/]([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],e=n[1]||"",i=n[2]||"0",r=this._browser={};e&&(r[e]=!0,r.version=i,"Netscape"===navigator.appName&&"trident"===e&&(r.msie=!0,r.version="11")),r.chrome?r.webkit=!0:r.webkit&&(r.safari=!0)}return this._browser},iOSversion:function(){if(/iP(hone|od|ad)/.test(navigator.appVersion)){var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);return{iOS:!0,majorVersion:parseInt(e[1],10),minorVersion:parseInt(e[2],10)}}return{iOS:!1}},imageFormats:function(){var e=this;if(!this._imgs){var t,n,i,r,s,u,l,c;!function(){var d=1,f="chorus-imgs-v"+d;t=e,n=e._imgs=a.default.Deferred(),i=o.default.get(f),r=["webp"],i&&i.hasOwnProperty(r[0])?n.resolve(i):(s={webp:"data:image/webp;base64,UklGRiYAAABXRUJQVlA4IBoAAAAwAQCdASoBAAEAAIAOJaQAA3AA/v89WAAAAA=="},u=Object.keys(s),l=0,c=function(){l+=1,l===u.length&&(s.preferred=r.filter(function(e){return s[e]})[0],t.isTouch()&&(s.preferred=null),o.default.set(f,s),n.resolve(s))},u.forEach(function(e){var t=new Image;t.onload=function(){s[e]=t.height>0&&t.width>0,c()},t.onerror=function(){s[e]=!1,c()},t.src=s[e]}))}()}return this._imgs.promise()},supportsPictureElement:function(){var e=navigator.userAgent,t=/(webkit)[ \/]([\w.]+)/.exec(e.toLowerCase()),n=/(chrome)[ \/]([\w.]+)/.exec(e.toLowerCase()),i=/(Edge)[ \/]([\w.]+)/.exec(e),r=/MSIE|Trident/.test(e),a=!n&&t&&parseFloat(t[2])<601.6||r||i&&parseFloat(i[2])<13.10547||/Opera Mobi/.test(e);return!a}}},function(e,t){"use strict";function n(){}n.prototype={_enabled:null,enabled:function(){if(null===this._enabled){var e="vox";try{localStorage.setItem(e,e),localStorage.removeItem(e),this._enabled=!0}catch(e){this._enabled=!1}}return this._enabled},get:function(e){if(this.enabled()){var t=localStorage.getItem(e);if(t&&("{"===t[0]||"["===t[0]))return JSON.parse(t);if("string"==typeof t){if(/^(true|false)$/i.test(t))return"true"===t.toLowerCase();if(/^\d+$/.test(t))return parseInt(t);if(/^\d+\.\d+$/.test(t))return parseFloat(t)}}return t||null},set:function(e,t){this.enabled()&&("object"==typeof t&&(t=JSON.stringify(t)),localStorage.setItem(e,t))},remove:function(e){this.enabled()&&localStorage.removeItem(e)},clear:function(){this.enabled()&&localStorage.clear()}},e.exports=new n,e.exports._class=n},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(10),a=i(r);e.exports={els:[],_h:null,_t:null,_b:null,callElementsInViewport:function(){for(var e=this.els.length-1;e>=0;e--){var t=this.els[e];if(this.testElementInViewport(t.el,t.t)){var n=t.fn.call(null,t.el);n||this.els.splice(e,1)}}},testElementInViewport:function(e){var t=arguments.length<=1||void 0===arguments[1]?-.5:arguments[1],n=this._h;n||(n=this._h=window.innerHeight||document.documentElement.clientHeight);var i=this._t=t*n,r=this._b=n-i,a=e.getBoundingClientRect();return a.top>=i&&a.top<=r||a.bottom>=i&&a.bottom<=r},trackElement:function(e,t,n){var i=!0;this.testElementInViewport(e,n)&&(i=t(e)),i&&(this.els.push({el:e,fn:t,t:n}),this._init||(this._init=!0,window.addEventListener("scroll",a.default.throttle(this.callElementsInViewport,200,this)),window.addEventListener("resize",a.default.throttle(this.refresh,200,this))))},refresh:function(){this._h=null,this.callElementsInViewport()}}},function(e,t){"use strict";function n(e){return"string"==typeof e?e=new Date(e).getTime():e instanceof Date&&(e=e.getTime()),e}function i(e,t,n){var i=1===e?n||"A":e,r=1===e?"":"s";return i+" "+t+r+" ago"}var r=1e3,a=60*r,s=60*a,o=24*s,u=7*o,l=4*u,c=365*o,d=["January","February","March","April","May","June","July","August","September","October","November","December"],f=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];e.exports={EST:-5,relative:function(e,t){t=n(t||Date.now()),e=n(e||t);var d=t-e;if(d<r)return"Now";if(d<a)return i(Math.round(d/r),"second");if(d<s)return i(Math.round(d/a),"minute");if(d<o)return i(Math.round(d/s),"hour","An");if(d<u)return i(Math.round(d/o),"day");var f=new Date(t),h=new Date(e),p=f.getMonth()-h.getMonth()+12*(f.getFullYear()-h.getFullYear());return d<l||0===p?i(Math.round(d/u),"week"):d<c?i(p,"month"):i(Math.round(d/c),"year")},absolute:function(e){var t=e instanceof Date?e:new Date(e),n=(t.getHours()+11)%12+1,i=t.getHours()<12?"AM":"PM",r=("00"+t.getMinutes()).slice(-2);return d[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()+" | "+n+":"+r+" "+i},recentRelative:function(e,t,i){return i=n(i||Date.now()),t=n(i-(t||o)),e=n(e||i),e>t?this.relative(e,i):this.absolute(e)},server:function(e,t){var i=new Date(n(t||Date.now())),r=i.getTime()+i.getTimezoneOffset()*a;return new Date(r+e*s)},nameOfMonth:function(e){return d[e]},nameOfDay:function(e){return f[e]},relativeToToday:function(e,t){if(t=new Date(n(t||Date.now())),e=new Date(n(e||t)),e.toDateString()!==t.toDateString())return null;var i=e.toTimeString(),r=i.split(" ")[0],a=parseInt(r.split(":")[0])>=12?"pm":"am",s=parseInt(r.split(":")[0])%12;0===s&&(s=12);var o=r.split(":")[1],u=/\((.+)\)/.exec(i.split(" ")[2])[1];return"Today at "+s+":"+o+" "+a+" "+u},combinedRelative:function(e,t){t=new Date(n(t||Date.now()));var i=Math.floor((t-e)/1e3/60);return i<=120?this.relative(e,t):this.relativeToToday(e,t)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return new s(e)}function a(e){for(var t;!t&&e&&e.getAttribute;){if(t=e.getAttribute("data-analytics-placement"))return t;e=e.parentNode}return"other"}function s(e){if(!o)throw"volume is not installed";this.el=o.src(e)}var o,u=n(23),l=i(u),c=n(17),d=i(c),f=n(20),h=i(f),p=n(10),m=i(p);r.embedHost=window.volume_embed_host||"https://volume.vox-cdn.com",r.selectAllEmbeds=function(){return document.querySelectorAll('iframe[src^="'+this.embedHost+'/embed"]')},r.install=function(e){e&&(this.embedHost=e),this.log("install "+this.embedHost);var t,n=this.selectAllEmbeds(),i=document.querySelectorAll(".volume-video");for(o?o.host=this.embedHost:o=l.default.create("volume",this.embedHost).on("analytics",function(e,t){r.reportEvent(t)}).on("pauseOthers",function(e,t){r.postToAll("pause",null,e.source)}).on("host",function(e,t){return{url:location.href,origin:location.origin,title:document.title,api:!0}}).listen(),t=0;t<n.length;t+=1)this.trackView(n[t]);for(t=0;t<i.length;t+=1)this.embedVideo(i[t]);return this},r.uninstall=function(){o&&(o.dispose(),o=null)},r.reportEvent=function(e){d.default.event(e),this.log(e)},r.log=function(e){window.volume_debug&&console.log("volume: ",e)},r.embedVideo=function(e,t){var n=this,i=e.getAttribute("data-volume-uuid");if(i){t=m.default.extend({autoplay:e.getAttribute("data-volume-autoplay"),autoplay_mobile:e.getAttribute("data-volume-autoplay-mobile"),placement:e.getAttribute("data-volume-placement"),player_type:e.getAttribute("data-volume-player-choice"),start_time:e.getAttribute("data-volume-start-time"),tracking:a(e)},t||{});var s="data-volume-trigger",o=e.getAttribute(s)||"";if(e.setAttribute(s,"none"),/^(lazy|click|embed|none)$/.test(o)||(o="lazy"),this.log("embedVideo ["+o+"] "+i+"-"+t.tracking),"lazy"===o)h.default.trackElement(e,function(){e.setAttribute(s,"embed"),n.embedVideo(e)});else if("click"===o)e.addEventListener("click",function t(n){n.preventDefault(),e.removeEventListener("click",t),e.setAttribute(s,"embed"),r.embedVideo(e,{autoplay:!0})}),this.trackView(e,t.tracking);else if("embed"===o){var u=Object.keys(t).filter(function(e){return!!t[e]}).map(function(e){return e+"="+t[e]});e.className=e.className.replace(/volume-video|p-scalable-video/g,"")+" p-scalable-video",e.innerHTML='<iframe src="'+this.embedHost+"/embed/"+i+"?"+u.join("&")+'" frameborder="0" allowfullscreen></iframe>',this.trackView(e,t.tracking)}}},r.trackView=function(e,t){var n=this._sku=this._sku||{};t=t||a(e);var i=/embed\/([^\/\?]+)/,s=function(){var t=/iframe/i.test(e.tagName)?e:e.querySelector("iframe");return t&&i.test(t.src)?t:null},o=s(),u=o?o.src.match(i)[1]:e.getAttribute("data-volume-uuid"),l=u+"-"+t;this.log("trackView "+l),u&&!n[l]&&(n[l]=!0,this.log("[tracking] "+l),h.default.trackElement(e,function(){o=o||s(),o?(r.log("[view] "+l),setTimeout(function(){r(o).request("view",document.title)},100)):(r.log("[view fallback] "+l),r.reportEvent({eventCategory:"video",eventAction:["volume","view",t].join(":"),eventLabel:[document.title,e.getAttribute("data-volume-id")||u].join(" | "),nonInteraction:!0}))},.1))},r.postToAll=function(e,t,n){for(var i=this.selectAllEmbeds(),r=0;r<i.length;r++){var a=o.src(i[r]);a!==n&&o.post(a,e,t)}},r.stopAll=function(){this.postToAll("pause")},s.prototype={play:function(e){var t="play";return e&&e.request?this.request(t):this.post(t)},pause:function(e){var t="pause";return e&&e.request?this.request(t):this.post(t)},post:function(e,t){return o&&o.post(this.el,e,t),this},request:function(e,t,n){return o&&o.request(this.el,e,t,n),this}},e.exports=r},function(e,t){/*!
	 * IframeClient v0.0.5
	 * Copyright 2015, Vox Media
	 * Released under MIT license
	 */
!function(t,n){var i={debug:!1,create:function(e,i){return n(this,e,i,t)},isInIframe:function(){try{return t.parent&&t.self!==t.top}catch(e){return!0}},error:function(e){if(this.debug)throw e}};"object"==typeof e&&e.exports?e.exports=i:t.IframeClient=i}(window,function(e,t,n,i){function r(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}var a=r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r(),s="@app",o=t||"xframe",u="@res",l=200,c=[],d={},f={},h=0,p=null,m=null;return{host:n||"*",get id(){return a},src:function(e){return"string"==typeof e&&(e=document.querySelector(e)),e&&e instanceof Element&&e.contentWindow&&(e=e.contentWindow),e&&"function"==typeof e.postMessage?e:null},post:function(t,n,i){if(t=this.src(t),!t||!n)return e.error("invalid post");var r="string"==typeof n?{message:n}:n;if(void 0!==i&&(r.value=i),r.message){r[s]=o;try{t.postMessage(JSON.stringify(r),this.host)}catch(t){e.error(t)}}},request:function(t,n,i,r,s){function o(){var e=!1;for(var t in d)if(d.hasOwnProperty(t)){var n=d[t];n.attempts++<n.timeout/l?(u.post(n.src,n.data),e=!0):u.end(t,new Error("request timeout"))}p=e?setTimeout(o,l):null}if(t=this.src(t),!t||!n)return e.error("invalid request");var u=this,c=a+"-"+("0000"+h++).slice(-4),f=d[c]={timeout:s||15e3,attempts:0,src:t,cb:r,data:{message:n,value:i,id:c}};return p?this.post(t,f.data):o(),c},end:function(e,t){var n=e.id||e,i=t&&t.abort;if(d.hasOwnProperty(n)){var r=d[n];delete d[n],i||"function"!=typeof r.cb||r.cb(t||null,e.value)}},on:function(e,t,n){return c.push({message:e,fn:t,ctx:n}),this},listen:function(){function e(e,t){for(var n,i=0;i<c.length;i++){var r=c[i];r.message===t.message&&(n=r.fn.call(r.ctx,e,t.value))}return n}if(!m){var t=this;m=function(n){var i,r="*"===t.host||String(n.origin).indexOf(t.host)>=0;if(r&&/^\{.*\}$/.test(n.data))try{i=JSON.parse(n.data)}catch(e){i=null}if(r&&i&&i[s]===o)if(i.id){var a=i.message===u;a&&d.hasOwnProperty(i.id)?t.end(i):a||f.hasOwnProperty(i.id)||(f[i.id]=!0,t.post(n.source,{message:u,value:e(n,i)||"success",id:i.id}))}else e(n,i)},i.addEventListener("message",m)}return this},stopListening:function(){return m&&(i.removeEventListener("message",m),m=null),this},dispose:function(){clearInterval(p),this.stopListening()}}})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){n.e(1,function(t){e(n(29))})}n(25);var a=n(6),s=i(a),o=!1;s.default.registerComponent("apps/auth",function(e,t){r(function(n){o||(o=!0,new n(e,t))})},{open:function(e){var t=n(16),i=n(27);i.service(function(){var n=document.createElement("div");n.className="c-auth",r(function(t){new t(n,e)}),t.dialog(n)},e)}})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(9),o=i(s),u=n(10),l=i(u),c=n(28),d=i(c),f=n(7),h=i(f),p="A network error occurred. Please try again later.",m=a.default.Model.extend(d.default.extend({defaults:{community_id:null,email:null,host_url:"",newsletter:!1,password:null,profile_image_url:null,"g-recaptcha-response":null,remember_me:!1,signup_newsletters_enabled:!1,username:null},ajaxOptions:{method:"post",https:!1,contentType:"application/x-www-form-urlencoded; charset=UTF-8",xhrFields:{withCredentials:!0}},urls:{join:":host_url/chorus_auth/join_community.json",login:":host_url/chorus_auth/initiate_password_auth.json",logout:":host_url/logout.json",recover_pass:":host_url/chorus_auth/request_password_reset.json",recover_user:":host_url/chorus_auth/request_username_retrieval.json",signup:":host_url/chorus_auth/register.json",rec_link:":host_url/chorus_auth/rec_link_chorus.json",validate_email:":host_url/chorus_auth/email_valid.json",validate_name:":host_url/chorus_auth/username_available.json",yahoo:"/chorus_auth/initiate_yahoo_auth",twitter:"/chorus_auth/initiate_twitter_auth",facebook:"/chorus_auth/initiate_facebook_auth",google:"/chorus_auth/initiate_google_auth"},pick:function(){for(var e={},t=0;t<arguments.length;t++)e[arguments[t]]=this.get(arguments[t]);return e},reset:function(){return this.set(m.prototype.defaults),this},setContext:function(e,t){var n=this;h.default.fetch().then(function(){var i=h.default.get("auth_url").replace(/\/$/,"");if(n.ajaxOptions.https=h.default.isProd()||i.indexOf("https://")!=-1||"https:"==window.location.protocol,n.set({host_url:i,community_id:f.currentCommunity.get("id"),signup_newsletters_enabled:f.currentCommunity.get("signup_newsletters_enabled")}),e.data&&"community_id"in e.data){var r=l.default.deparamitize(location.search);"parameter"===e.data.community_id&&r.community_id?e.data.community_id=r.community_id:e.data.community_id=n.get("community_id")}t(e)})},request:function(e,t){var n=this;this.setContext(t,function(t){n.ajax(e,t)})},service:function(e,t){var i=this,r=n(18),a="https:"==window.location.protocol;r.isCORSEnabled()&&a?e():this.setContext({},function(){var n=i.get("host_url");if(location.hostname===n.replace(/https?:\/\/([^\/]+).*/,"$1")&&a)e();else{var r={community_id:f.currentCommunity.get("id"),return_to:l.default.currentUrl()},s=t.action||"login",o=n+"/"+s+"?"+l.default.paramitize(r);"logout"==s?i.logout().done(function(){window.location=l.default.currentUrl()}):window.location=o}})},login:function(e){this.set(e);var t=o.default.Deferred(),n={captcha_required:!1,message:"",next_action:null};return this.request("login",{data:this.pick("username","password","remember_me","g-recaptcha-response"),success:function(e){e.logged_in?t.resolve():t.reject(l.default.extend(n,e))},error:function(e){n.message=e||p,t.reject(n)}}),t.promise()},logout:function(){var e=o.default.Deferred();return this.request("logout",{success:function(t){t.success?e.resolve():e.reject(t.message||"Error logging out.")},error:function(t){e.reject(t||p)}}),e.promise()},_cache:function(e,t,n,i){return this._c=this._c||{},this._c[e]={value:t,valid:n,message:i},i},_cached:function(e,t,n){var i=this._c;return!(!i||!i[e]||i[e].value!==t)&&(i[e].valid?n.resolve():n.reject(i[e].message),!0)},validateName:function(e){var t=this;this.set(e);var n=o.default.Deferred(),i="username",r=this.get(i);return this._cached(i,r,n)||this.request("validate_name",{data:this.pick(i),success:function(e){if(e.available)t._cache(i,r,!0),n.resolve();else{var a=e.message||"Name is not available.";t._cache(i,r,!1,a),n.reject(a)}},error:function(e){n.reject(e||p)}}),n.promise()},validatePass:function(e){this.set(e);var t=o.default.Deferred(),n=this.get("password");return n.length<6?t.reject("Password must be at least six characters."):/\d/.test(n)&&/[a-zA-Z]/.test(n)?t.resolve():t.reject("Password must contain both letters and numbers."),t.promise()},validateEmail:function(e){var t=this;this.set(e);var n=o.default.Deferred(),i="email",r=this.get(i);return this._cached(i,r,n)||this.request("validate_email",{data:this.pick(i),success:function(e){if(e.available)t._cache(i,r,!0),n.resolve();else{var a=e.message||"Email is invalid.";t._cache(i,r,!1,a),n.reject(a)}},error:function(e){n.reject(e||p)}}),n.promise()},signup:function(e){this.set(e);var t=o.default.Deferred(),n=this.pick("g-recaptcha-response");return n.user=this.pick("username","password","email","newsletter"),n.community_id="parameter",this.request("signup",{data:n,success:function(e){e.success?t.resolve():t.reject(e.message||"Sorry, we could not complete this request.")},error:function(e){t.reject(e||p)}}),t.promise()},joinCommunity:function(e){this.set(e);var t=o.default.Deferred();return this.request("join",{data:this.pick("community_id"),success:function(){t.resolve()},error:function(e){t.reject(e||p)}}),t.promise()},recoverUser:function(e){this.set(e);var t=o.default.Deferred();return this.request("recover_user",{data:this.pick("email"),success:function(e){t["success"===e.message_type?"resolve":"reject"](e.message)},error:function(e){t.reject(e||p)}}),t.promise()},recoverPass:function(e){this.set(e);var t=o.default.Deferred();return this.request("recover_pass",{data:this.pick("email"),success:function(e){t["success"===e.message_type?"resolve":"reject"](e.message)},error:function(e){t.reject(e||p)}}),t.promise()},linkREC:function(e){this.set(e);var t=o.default.Deferred();return this.request("rec_link",{data:this.pick("username","password","community_id"),success:function(e){t[e.logged_in?"resolve":"reject"](e.message)},error:function(e){t.reject(e||p)}}),t.promise()},setThirdPartyLogin:function(e){function t(t,n){e&&"function"==typeof e[t]&&e[t](n)}var n=this;return e?void v.on(function(e,i){if(e)return t("error",e);var r={service:v.service};if(i){if(i.error)return t("error",i.error);if(i.start)return t("start",r);n.set(l.default.pick(i,"username","profile_image_url")),t(i.logged_in?"login":"signup",r)}else t("error",r.service+" login error.")}):v.off()},startThirdPartyLogin:function(e){var t=this;this.setContext({},function(){v.service=e,v.callback(null,{start:!0,is_from_chorus_auth:!0});var n=600,i=450,r=screen.width/2-n/2,a=screen.height/2-i/2,s=t.urlFor(e)+"?return_to=",o=l.default.deparamitize(location.search);s+=o.hasOwnProperty("return_to")?decodeURIComponent(o.return_to):l.default.currentUrl();var u=window.open(s,e,"height="+i+",width="+n+",left="+r+",top="+a);u||v.callback("Service popup was blocked. Please allow popups for this site and try again.")})}})),v={on:function(e){this.off(),this._cb=e,this._h=function(e){var t=f.currentCommunity.get("domain")+"|"+h.default.get("auth_domain"),n=new RegExp(t).test(e.origin),i=/"is_from_chorus_auth"/.test(e.data);n&&i&&window.chorusAuth(JSON.parse(e.data))},window.addEventListener("message",this._h),window.chorusAuth=function(e){v.callback(null,e)}},off:function(){this._cb&&(window.removeEventListener("message",this._h),delete window.chorusAuth,this._cb=null)},callback:function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];"function"==typeof this._cb&&(e||t.is_from_chorus_auth)&&this._cb(e,t)}};e.exports=new m},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(9),a=i(r),s=n(10),o=i(s);e.exports={ajaxOptions:{},urls:{},urlFor:function(e){var t=this,n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],i=this.urls[e];if(i&&(i=i.replace(/:([^\d\/\.]+)/g,function(e,n){return"function"==typeof t.get?t.get(n):t[n]}),n)){var r=/^(https?:)?\/\//;i=i.replace(r,"https://"),r.test(i)||(i=location.origin.replace(r,"https://")+"/"+i.replace(/^\//,""))}return i},ajax:function(e,t){var n=this,i=a.default.Deferred(),r=o.default.extend({method:"get",dataType:"json",timeout:15e3},this.ajaxOptions,t||{});r.url=r.url||this.urlFor(e,r.https),"object"!=typeof r.data||"post"!==String(r.method).toLowerCase()||r.contentType||(r.data=JSON.stringify(r.data),r.contentType="application/json",r.processData=!1),r.success=function(e,r,a){t&&"function"==typeof t.success&&t.success.call(n,e,a),i.resolve(e)},r.error=function(e,r,a){a=e.responseJSON&&e.responseJSON.message||a,t&&"function"==typeof t.error&&t.error.call(n,a,e),i.reject(a)};var s=a.default.ajax(r),u=i.promise();return u.cancel=function(){"pending"===s.state()&&s.abort()},u},ajaxStub:function(e){return a.default.Deferred()[e.success?"resolve":"reject"](e.message).promise()},extend:function(e){for(var t in this)!this.hasOwnProperty(t)||t in e||"extend"===t||(e[t]=this[t]);return e}}},,function(e,t,n){"use strict";function i(e,t,n){!t&&n&&(t=n),t=r.extend({},i.settings,t);var a=RegExp([(t.escape||s).source,(t.interpolate||s).source,(t.evaluate||s).source].join("|")+"|$","g"),o=0,c="__p+='";e.replace(a,function(t,n,i,r,a){return c+=e.slice(o,a).replace(u,l),o=a+t.length,n?c+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?c+="'+\n((__t=("+i+"))==null?'':__t)+\n'":r&&(c+="';\n"+r+"\n__p+='"),t}),c+="';\n",t.variable||(c="with(obj||{}){\n"+c+"}\n"),c="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+c+"return __p;\n";var d;try{d=new Function(t.variable||"obj","_",c)}catch(e){throw e.source=c,e}var f=function(e){return d.call(this,e,r)},h=t.variable||"obj";return f.source="function("+h+"){\n"+c+"}",f}var r=n(10);r.escape=function(){var e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},t=function(t){return e[t]},n="(?:"+Object.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}}();var a={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g,variable:"data"},s=/(.)^/,o={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},u=/\\|'|\r|\n|\u2028|\u2029/g,l=function(e){return"\\"+o[e]};i.settings=a,e.exports=i},,,,function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(9),a=i(r);t.__recaptcha_deferred=a.default.Deferred(),t.__handleRecaptchaLoad=function(){for(var e=document.querySelectorAll(".g-recaptcha"),n=0;n<e.length;n++)window.grecaptcha.render(e[n],{sitekey:e[n].getAttribute("data-sitekey")});t.__recaptcha_deferred.resolve()},e.exports={loadRecaptcha:function(){return a.default.getScript("https://www.google.com/recaptcha/api.js?onload=__handleRecaptchaLoad&render=explicit"),t.__recaptcha_deferred.promise()}}}).call(t,function(){return this}())},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(24),n(54);var r=n(6),a=i(r),s=n(7);a.default.registerComponent("apps/comment_forum",function(e,t){function i(){i.called||(i.called=!0,window.removeEventListener("keydown",r),s.currentUser.fetch().then(function(){n.e(3,function(i){var r=n(56);new r(e,t)})}))}function r(e){var n;if(!/textarea|input/i.test(document.activeElement.tagName)&&!e.ctrlKey&&!e.metaKey)switch(e.which){case 67:n="c";break;case 90:n="z"}n&&(document.body.scrollTop=document.getElementById("comments").offsetTop-.3*window.innerHeight,t.launchKey=n,i())}window.addEventListener("keydown",r);var a=location.hash.slice(1);"comments"==a?i():/^\d+$/.test(a)?(t.selection=Number(a),i()):n(20).trackElement(e,i)},{priority:a.default.HIGH})},function(e,t){},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(28),o=i(s),u=n(10),l=i(u),c=a.default.Model.extend(o.default.extend({defaults:{comment_count:null,comment_unreads:0,id:null,recommended_count:null,recommended_by_user:!1,url:null},ajaxOptions:{method:"post"},urls:{rec:"/flags/recommend/:id.json",unrec:"/flags/unflag/:id.json"},reload:function(){this._req=!1,this.collection.load()},isRecommendedByUser:function(){return!!this.get("recommended_by_user")},recommend:function(e){var t=this,n=this.isRecommendedByUser(),i=this.get("recommended_count");return e=void 0===e?!n:e,n===e?this._rec||this.ajaxStub({success:!0}):(this._rec&&this._rec.cancel(),this.set({recommended_count:Math.max(0,i+(e?1:-1)),recommended_by_user:e}),this._rec=this.ajax(e?"rec":"unrec",{error:function(){t.set({recommended_count:i,recommended_by_user:n})}}),this._rec)}})),d=a.default.Collection.extend({model:c,endpoint:"/services/entry_stats?id=",initialize:function(){this.listenTo(this,"add",this.load)},load:l.default.debounce(function(){for(var e=this.models.filter(function(e){return!e._req}).map(function(e){return e._req=!0,e.id}).sort(function(e,t){return Number(t)-Number(e)}),t=e.length-1;t>=0;t-=1)e[t]!==e[t-1]&&e[t]||e.splice(t,1);e.length&&(this.url=this.endpoint+e.join(","),this.fetch())},250),parse:function(e){return e=e.reduce(function(e,t){return e[t.id]=t,e},{}),this.models.map(function(t){return l.default.extend(t.toJSON(),e[t.id]||{})})}});e.exports=new d},,,,,,,,,,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={loadTwitter:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];window.twttr||(document.querySelector('[class^="twitter-"]')||e)&&(window.twttr=function(e,t,n){var i,r=e.getElementsByTagName(t)[0],a=window.twttr||{};return e.getElementById(n)?a:(i=e.createElement(t),i.id=n,i.src="https://platform.twitter.com/widgets.js",r.parentNode.insertBefore(i,r),a._e=[],a.ready=function(e){a._e.push(e)},a)}(document,"script","twitter-wjs"))},fullBleed:function(e){if(e){var t=document.getElementById("full-bleed-style"),n=e.offsetLeft,i=document.createElement("style");i.id="full-bleed-style",i.innerHTML=".fullbleed-block, .p-fullbleed-block{max-width:none !important;margin-left:-"+n+"px !important;width:"+window.innerWidth+"px !important;}",t?t.parentNode.replaceChild(i,t):document.head.appendChild(i)}}};t.default=n,e.exports=t.default},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(98);var r=n(6),a=i(r),s=n(9),o=i(s),u=n(21),l=i(u);a.default.registerComponent("site/byline",function(e,t){var n=l.default.combinedRelative(1e3*t.timestamp);n&&(0,o.default)(e).find("[data-relative-timestamp]").text(n)})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(101);var r=n(6),a=i(r),s=n(103),o=i(s);a.default.registerComponent("site/dynamic_size_image",function(e,t){o.default.addEl(e,t)},{priority:a.default.HIGH}),window.chorus_lazy_assets=function(){for(var e=document.querySelectorAll(".vox-lazy-load"),t=0;t<e.length;t++){var n=e[t];o.default.addEl(n,{image_id:n.getAttribute("data-imgkey")||null,asset_id:n.getAttribute("data-chorus-asset-id")||null,ratio:n.getAttribute("data-ratio")||"*"})}},window.DynamicImages=o.default,window.chorus_lazy_assets()},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(18),o=i(s),u=n(20),l=i(u),c=n(10),d=i(c),f=0,h=a.default.Model.extend({el:null,defaults:{image_id:null,asset_id:null,lazy:!0,lazy_ready:!1,placement_id:"default",ratio:"*",variation:1,url:null,format:"jpg",height:null,width:null},initialize:function(e,t){var n=this;this.el=t&&t.el,this.set("id",f++,{silent:!0}),this.el&&this.isLazy()&&(this.el.className+=" lazy-image",l.default.trackElement(this.el,function(){n.set("lazy_ready",!0),n.render()})),this.listenTo(this,"change:url",this.render),this.listenTo(this,"change:image_id change:asset_id",this.reload)},render:function(){var e=this.get("url");this.el&&e&&(!this.isLazy()||this.get("lazy_ready"))&&(0===this.el.offsetWidth&&0===this.el.offsetHeight||(this.isPicture()?this.convertPicture()&&(this.replacePicture(),this.el.style.backgroundImage='url("'+e+'")'):this.isImage()?this.el.src=e:this.el.style.backgroundImage='url("'+e+'")',this.isLazy()&&(this.el.className+=" lazy-loaded")))},replacePicture:function(){var e=this.el.getElementsByTagName("picture");e.length&&(this.el.removeChild(e[0]),this.el.className+=" removed-picture");var t=JSON.parse(this.el.getAttribute("data-cdata"));t.picture=!1,t.convert_picture=!1,t.dynamic_picture=!1,this.el.setAttribute("data-cdata",JSON.stringify(t))},reload:function(){this.isPicture()&&this.render(),this.el&&(this.el.className=this.el.className.replace(/\s?\blazy-loaded\b/,"")),this.requestKey=null,this.collection.load()},aspectRatio:function(){var e=this.get("ratio");switch(e){case"cinema":return 16/9;case"portrait":return.75;case"standard":return 1.5;case"*":return 1}return"number"==typeof e?e:String(e).indexOf(":")>0?(e=e.split(":"),Number(e[0])/Number(e[1])):parseFloat(e)},width:function(){var e=window.devicePixelRatio||1;return(this.get("width")||this.el.offsetWidth||arguments[0]||this.height(440)*this.aspectRatio())*e},height:function(){var e=window.devicePixelRatio||1;return(this.get("height")||this.el.offsetHeight||arguments[0]||this.width(780)/this.aspectRatio())*e},isImage:function(){return!(!this.el||"img"!==this.el.tagName.toLowerCase())},isPicture:function(){var e=this.el.getAttribute("data-cdata");return!!(this.el&&e&&JSON.parse(e).picture)},convertPicture:function(){var e=this.el.getAttribute("data-cdata");return!!(this.el&&e&&JSON.parse(e).convert_picture)},isLazy:function(){return!!this.get("lazy")},setRequestKey:function(e){return this.requestKey||(e&&this.set({format:e}),this.requestKey=this._imageKey()||this._assetKey()),this.requestKey},_imageKey:function(){var e=this.get("image_id");return e&&[e,this.get("ratio"),this.get("variation"),this.width()+"x"+this.height(),this.get("format")].join(":")},_assetKey:function(){var e=this.get("asset_id");return e&&[e,this.width(),this.height()].join(":")}}),p=a.default.Collection.extend({model:h,initialize:function(){this.listenTo(this,"add",this.load),o.default.imageFormats()},endpoint:function(e,t){return"/services/optimally_sized_images?imgkeys="+e.join(",")+"&asset_keys="+t.join(",")},load:d.default.debounce(function(){var e=this;o.default.imageFormats().then(function(t){for(var n=e.models.filter(function(e){return!e.requestKey}).map(function(e){return e.setRequestKey(t.preferred)}).sort(),i=n.length-1;i>=0;i-=1)n[i]!==n[i-1]&&n[i]||n.splice(i,1);if(n.length){var r=n.filter(function(e){return e.indexOf("x")>0}),a=n.filter(function(e){return e.indexOf("x")<0});e.url=e.endpoint(r,a),e.fetch()}})},250),parse:function(e){var t=e.urls||{};return this.models.map(function(e){return{id:e.id,url:t[e.requestKey]||e.get("url")}})},addRect:function(e,t,n){return n.width=e,n.height=t,this.add(n)},addEl:function(e,t){if(e instanceof a.default.$&&(e=e[0]),!(e instanceof Element))throw"An element is required.";var n=this.findByElement(e);return n&&n.set(t),n||this.add(t,{el:e})},findByElement:function(e){for(var t=0;t<this.length;t+=1)if(this.models[t].el===e)return this.models[t];return null}});e.exports=new p},,,,,,,,,,,,,function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r,a=n(9),s=(i(a),n(10)),o=i(s);e.exports={campaign:null,content:null,medium:null,sources:{facebook:"http://www.facebook.com/sharer.php?u=",twitter:"https://twitter.com/intent/tweet?url=",pinterest:"https://www.pinterest.com/pin/create/button/?url=",linkedin:"https://www.linkedin.com/shareArticle?url="},share:function(e,n,i){n=n.toLowerCase();var a=570,s=570;switch(n){case"facebook":s=279;break;case"twitter":s=279;break;case"linkedin":s=520;break;case"pinterest":a=s=750}if("#"!==e[0]&&this.sources[n]){r&&r.close&&r.close();var o=screen.width/2-a/2,u=screen.height/2-s/2;if(r=window.open(this.formatSharer(e,n,i),"","width="+a+", height="+s+", top="+u+", left="+o),t.twttr&&"twitter"===n){var l=window.open;window.open=function(){},setTimeout(function(){window.open=l},0)}}},sharePage:function(e){this.share(location.href,e)},formatSharer:function(e,t,n){var i=this.parseLink(e),r=i.hostname.replace(/.*(twitter|facebook|pinterest|linkedin).*/,"$1");if(r===t||!t&&this.sources[r]){var a="facebook"===r?"u":"url",s=o.default.deparamitize(i.search);if(s.hasOwnProperty(a))return e=decodeURIComponent(s[a]),s[a]=encodeURIComponent(this.formatLink(e,r)),[this.sources[r].split("?")[0],"?",o.default.paramitize(o.default.extend(s,n||{})),i.hash].join("")}var u=this.sources[t]+encodeURIComponent(this.formatLink(e,t));return n&&(u=u+"&"+o.default.paramitize(n)),u},formatLink:function(e,t){var n=this.parseLink(e),i=o.default.extend({utm_campaign:encodeURIComponent(this.campaign||location.hostname.replace(/(www\.)?(.+)\.com/,"$2")),utm_content:encodeURIComponent(this.content||"entry"),utm_medium:encodeURIComponent(this.medium||"social"),utm_source:t},o.default.deparamitize(n.search)),r=[n.protocol,"//",n.hostname].join("");return r=r.replace(/\/?$/,"/"),e=[r,n.pathname.replace(/(^\/|\/$)/g,""),"?",o.default.paramitize(i),n.hash].join("")},parseLink:function(e){var t=document.createElement("a");return t.href=e,t}}}).call(t,function(){return this}())},,,,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){var e=document.querySelector('meta[name="style-tools"]'),t=document.createElement("link");t.rel="stylesheet",t.media="all",t.href=e?e.content:"/style/"+Date.now()+"/tools.css",document.head.appendChild(t),n.e(4,function(e){n(125),s.default.run()})}var a=n(6),s=i(a),o=n(7);s.default.readyTask(function(){o.currentUser.fetch().then(function(){(o.currentUser.get("can_edit")||o.currentUser.get("can_admin"))&&r()})})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n(165),n(174),n(177)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(166),n(171);var r=n(6),a=i(r);a.default.registerComponent("site/disclaimer/header",function(e,t){var i=n(173);new i({el:e,data:t})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(167);var r=n(6),a=i(r);a.default.registerComponent("site/disclaimer_image",function(e,t){var i=n(169);new i({el:e,data:t})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=n(10),l=i(u),c=n(170),d=i(c),f=a.default.View.extend({initialize:function(e){var t=this;this.data=e.data||{},this.backgroundEl=this.getBackgroundElement(),this.displayImageType(),(0,o.default)(window).on("resize",l.default.throttle(function(){return t.displayImageType()},150))},displayImageType:function(){var e=d.default.hasLightBackground(this.backgroundEl,this.getPseudoSelector())?"dark":"light",t=this.data[e+"_url"];if(t&&this.$el.attr("src")!==t){var n=new Image,i=this;n.onload=function(){i.$el.attr("src",t),i.data.is_header&&(0,o.default)(window).trigger("resize")},n.src=t}},getBackgroundElement:function(){return this.parseBackgroundSelector()?document.querySelector(this.parseBackgroundSelector()[0]):this.$el[0].parentNode},getPseudoSelector:function(){var e;return this.parseBackgroundSelector()&&(e=this.parseBackgroundSelector()[1]),e},parseBackgroundSelector:function(){var e;return this.data.background_selector&&(e=this.data.background_selector.replace("::",":").split(":")),e}});t.default=f,e.exports=t.default},function(e,t){"use strict";e.exports={hasLightBackground:function(e,t){var n=this.closestBackgroundColorToElement(e,t);return this.brightness(n)>128},closestBackgroundColorToElement:function(e,t){for(var n;e instanceof Element&&(n=this.parseRGBA(window.getComputedStyle(e,t).backgroundColor),0===n.a);)n=t=void 0,e=e.parentNode;return n||this.parseRGBA("#FFFFFF")},parseRGBA:function(e){var t=/^rgba?\(([\d\.\s]+),([\d\.\s]+),([\d\.\s]+)(?:,([\d\.\s]+))?\)$/i,n=[];if("transparent"===e)n=[0,0,0,0,0];else if(t.test(e))n=e.match(t);else{var i=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i;i.test(e)&&(e=e.replace(i,function(e,t,n,i){return t+t+n+n+i+i})),r.test(e)&&(n=(e.match(r)||[]).map(function(e,t){return t?parseInt(e,16):e}))}return{r:parseFloat(n[1]||0),g:parseFloat(n[2]||0),b:parseFloat(n[3]||0),a:parseFloat(0===n[4]?0:n[4]||1)}},brightness:function(e){return"string"==typeof e&&(e=this.parseRGBA(e)),(299*e.r+587*e.g+114*e.b)/1e3}}},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=[".c-read-more__intro"],l=a.default.View.extend({initialize:function(e){var t=e.data;(0,o.default)(u).length&&t.url&&(0,o.default)(u).each(function(){(0,o.default)(this).html("Read more from").append('<img src="'+t.url+'" alt="'+t.alt+'" />')})}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){s=s||new MutationObserver(function(e){e.forEach(function(e){a(e.target.querySelector("img.native-ad-logo"))})}),s.observe(e,{attributes:!0,childList:!0,characterData:!0})}function a(e){if(e){var t=12,n=30,i=120,r=e.offsetWidth;if(r<i){var a=n/r,s=n-t,o=t+a*s;e.style.height=Math.round(Math.min(o,n))+"px"}}}n(175);var s,o=n(6),u=i(o);u.default.registerComponent("site/entry_sponsorship",function(e,t){if(a(e.querySelector("img")),"cover"===t.placement){var i=n(170);if(i.hasLightBackground(e)){var r=e.querySelector(".c-entry-sponsorship--logo");r.src=r.getAttribute("data-contrast")||r.src}}}),u.default.registerComponent("site/entry_sponsorship/native_ad",function(e){var t=e.querySelector("img.native-ad-logo");t?a(t):r(e)})},function(e,t){},,function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(180);var r=n(6),a=i(r);a.default.registerComponent("site/article_feedback",function(e){var t=n(182);new t({el:e})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=n(34),l=i(u),c=a.default.View.extend({handleButtonClick:function(e){var t=(0,o.default)(e.currentTarget);this.$(".c-article-feedback__prompt.no, .c-article-feedback__button.no").toggleClass("is-active",t.hasClass("no")),this.$(".c-article-feedback__prompt.yes, .c-article-feedback__button.yes").toggleClass("is-active",t.hasClass("yes")),this.$(".c-article-feedback__prompt--tag").css("left",t.position().left+"px"),t.hasClass("no")&&l.default.loadRecaptcha()},events:{"click .c-article-feedback__button":"handleButtonClick"}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(184);var r=n(6),a=i(r);a.default.registerComponent("site/breaking_news",function(e,t){var i=n(9),r=n(19);r.get("breaking-news")!==t.title&&i('[data-ui="breaking-news"]').addClass("visible"),i('[data-ui="close-breaking-news"]').on("click",function(){i('[data-ui="breaking-news"]').removeClass("visible"),r.set("breaking-news",t.title)})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(187);var r=n(6),a=i(r);a.default.registerComponent("site/directory",function(e){var t=n(189);new t({el:e})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=a.default.View.extend({initialize:function(){var e=this;setTimeout(function(){e.handleHashChange()},500),(0,o.default)(window).on("hashchange",function(){e.handleHashChange()})},handleHashChange:function(){var e=window.location.hash.slice(1);e?this.showSection(e):this.resetList()},handleResetClick:function(){this.resetList()},resetList:function(){this.$el.removeClass("is-section-active").find(".is-active-section").removeClass("is-active-section")},showSection:function(e){this.$el.find(".level-idx-1").text(this.$el.find('a[href="#'+e+'"]').text()),this.$el.find("is-active-section").removeClass("is-active-section"),this.$el.addClass("is-section-active").find('.c-directory__extended-body[data-body-for="'+e+'"]').addClass("is-active-section"),(0,o.default)("html, body").animate({scrollTop:this.$el.offset().top},500)},events:{"click .level-idx-0":"handleResetClick"}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";n(100),n(191),n(195),n(224)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(97),n(100),n(192),n(174),n(195),n(199),n(221);var r=n(9),a=i(r),s=n(18),o=i(s),u=n(21),l=i(u),c=n(6),d=i(c);d.default.registerComponent("site/entry_box/entry_group",function(e){var t=n(223);new t({el:e})}),d.default.registerComponent("site/entry_box/compact_video_entry",function(e,t){if(o.default.isMobile()){var n=(0,a.default)(e).find(".c-entry-box--compact__image-wrapper");n.removeAttr("src"),d.default.get("site/video_embed").embed(n[0],t)}else(0,a.default)(e).on("click",".c-entry-box--compact__image-wrapper",function(e){e.preventDefault(),d.default.get("site/video_embed").modal(t)})}),d.default.registerComponent("site/entry_box/stream_item",function(e,t){var n=l.default.combinedRelative(1e3*t.timestamp);n&&(0,a.default)(e).find("[data-relative-timestamp]").text(n)})},function(e,t,n){"use strict";n(193)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(24),n(196);var r=n(6),a=i(r);a.default.registerComponent("site/entry_stat",function(e,t){var i=n(58),r=n(198),a=i.add(t);new r({el:e,model:a})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{
default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),a=i(r),s=n(8),o=i(s),u=n(7),l=n(14),c=i(l),d=o.default.View.extend({initialize:function(){this.listenTo(this.model,"change",this.render)},render:function(){(this.model.hasChanged("recommended_by_user")||this.model.hasChanged("recommended_count"))&&this.renderRecs(),(this.model.hasChanged("comment_unreads")||this.model.hasChanged("comment_count"))&&this.renderComments()},renderRecs:function(){var e=this.model.isRecommendedByUser(),t=this.model.get("recommended_count"),n=this.$('[data-ui="rec-data"]');n.text(t),this.$('[data-ui="rec"]').toggleClass("is-recced",e).toggleClass("has-content",!!t&&!e)},renderComments:function(){var e=this.model.get("comment_unreads"),t=this.model.get("comment_count"),n=this.$('[data-ui="comment-data"]');this.$('[data-ui="comment"]').toggleClass("has-unread",!!e).toggleClass("has-content",!!t&&!e),n.text(t);var i=this.$('[data-ui="unread"]');i&&i.toggle(e>0).find('[data-ui="unread-data"]').text(e)},events:{'click [data-ui="rec"]':"onRec"},onRec:function(){var e=this;u.currentUser.fetch().then(function(){if(u.currentUser.isLoggedIn()){var t=!e.model.isRecommendedByUser();e.model.recommend(t).done(function(e){t&&c.default.success("Recommendation added.")}).fail(function(e){c.default.error(e)})}else a.default.get("apps/auth").open()})}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(200);var r=n(6),a=i(r),s=n(9),o=i(s),u=n(202),l=i(u),c=n(10),d=i(c);a.default.registerComponent("site/video_embed",function(){},{modal:function(e){var t=n(16),i=n(219);try{var r=new i(d.default.extend(e,{include_cta:!0,volume_autoplay:!0}));t.overlay(r.el,{className:"video-embed-modal"}),setTimeout(function(){return r.embed()},1e3)}catch(t){e.url&&(window.location=e.url)}try{if("object"==typeof ChorusAds&&ChorusAds.lazyLoadedAdsEnabled){var a=r.$el.find(".c-video-embed__ad-slot")[0];if(""===a.innerHTML){var s=ChorusAds.dynamic.createAdSlot([[728,90]]);a.appendChild(s);var o=s.children[0].id.replace(ChorusAds.slotPrefix,""),u=ChorusAds.recordedSlots.filter(function(e){return e.name===o});setTimeout(function(){ChorusAds.defineSlot(u[0]),ChorusAds.showAd(o)}.bind(this),1001)}}}catch(e){}},embed:function(e,t){var i=n(219);try{var r=new i(d.default.extend(t,{volume_autoplay:!1}));(0,o.default)(e).append(r.$el),(0,o.default)(e).on("click",function(e){e.preventDefault(),e.stopPropagation(),r.play()}),requestAnimationFrame(function(){return r.embed()})}catch(e){}}}),a.default.registerComponent("site/video_embed/sanitize",function(e){var t=(0,o.default)(e);l.default.formatVideoEmbeds(t),new MutationObserver(function(e){e.forEach(function(){return l.default.formatVideoEmbeds(t)})}).observe(e,{childList:!0,subtree:!0});var n=t.attr("data-ooyala-legacy-embed-source");if(n){var i="_"+(new Date).getTime();t.attr("id",i);var r=document.createElement("script");r.type="text/javascript",r.src=n+"&playerContainerId="+i,t.append(r)}})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(203),n(208),n(213);var r=n(10),a=i(r),s=n(6),o=i(s),u=n(68),l=i(u),c=document.querySelector(".l-feature .c-entry-content, .l-page .c-entry-content");l.default.loadTwitter(),c&&(l.default.fullBleed(c),$(window).on("resize",a.default.throttle(function(){l.default.fullBleed(c,1e3)}))),o.default.registerComponent("site/entry_formatter",function(e,t){function i(){var e=r(".c-mapstack__card, .c-entry-content, .c-entry-intro");if(e.length>0){var n={priority:o.default.LOW};o.default.task(function(){s.embedSanitizer(e)},n),o.default.task(function(){s.gifs(e)},n),o.default.task(function(){s.hrIllo(e)},n),o.default.task(function(){s.dropCap(e)},n),o.default.task(function(){s.imageEnlarge(e)},n),o.default.task(function(){s.dataTables(e)},n),o.default.task(function(){s.ratingsSnippet(e)},n),o.default.task(function(){s.shareQuote(e)},n),o.default.task(function(){s.snippetAnimations(e)},n),o.default.task(function(){s.captionSpacingNormalizer(e)},n),o.default.task(function(){s.listicleSharing(e)},n),o.default.task(function(){s.refreshTwitterEmbeds(e)},n),o.default.task(function(){s.refreshInstagramEmbeds(e)},n),o.default.task(function(){s.legacyVoxmediaToolsSupprt(e)},n),o.default.task(function(){s.pinterestEmbeds(e)},n),o.default.task(function(){s.wideImageCompensation(e)},n),o.default.task(function(){a.install()},n),t.pinterest_enabled&&o.default.task(function(){s.pinterestButton(e)},n),e.each(function(){o.default.run(this)})}}var r=n(9),a=n(22),s=n(217);document.addEventListener("anthem.preview-updated",i),i()}),e.exports={formatVideoEmbeds:function(e){var t=n(217);t.embedSanitizer(e)},formatGIFs:function(e){var t=n(217);t.gifs(e)}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(204);var r,a=n(6),s=i(a);s.default.registerComponent("site/pinterest_button",{build:function(e){var t=n(9);if(!r){var i=n(206);r=new i,t("body").append(r.$el)}return r.addPinable(e),r}})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(116),o=i(s),u=n(30),l=i(u),c=n(207),d=i(c),f=n(9),h=i(f),p={right:60,top:20},m=[".c-animated-panning-image"],v=a.default.View.extend({$parentImage:null,buttonTemplate:(0,l.default)(d.default),timeout:null,initialize:function(){this.setElement(this.buttonTemplate())},hidePinterestButton:function(){this.$el.addClass("is-hidden")},showPinterestButton:function(e){var t=(0,h.default)(e),n=t.data("original")||t.closest(".e-image__image").data("original")||t.attr("src");if(n){n=n.replace(/^https:\/\//i,"http://");var i=encodeURIComponent(window.location.href),r=(0,h.default)("title").text()+" : "+(0,h.default)(".c-entry-summary").text(),a="http://www.pinterest.com/pin/create/button/?media="+n+"&url="+i+"&description="+r,s=t.parents(m.join(",")).length?t.parents(m.join(",")).first():t,o=s.offset(),u=Math.round(o.left+s.width()-p.right),l=Math.round(o.top+p.top);this.$el.css({top:l+"px",left:u+"px"}),this.$el.attr("href",a),this.$el.removeClass("is-hidden")}},addPinable:function(e){var t=this;e.each(function(e,n){var i=(0,h.default)(n);"img"===n.nodeName.toLowerCase()?(i.on("mouseenter",function(e){t.handleImageEnter(e)}),i.on("mouseleave",function(e){t.handleImageLeave(e)})):(i.on("mouseenter","img, video",function(e){t.handleImageEnter(e)}),i.on("mouseleave","img, video",function(e){t.handleImageLeave(e)}))})},handleImageEnter:function(e){clearTimeout(this.timeout),this.showPinterestButton(e.currentTarget)},handleImageLeave:function(e){var t=this;this.timeout=setTimeout(function(){t.hidePinterestButton()},500)},handleButtonEnter:function(){this.isOnButton=!0,clearTimeout(this.timeout)},handleButtonLeave:function(){clearTimeout(this.timeout),this.isOnButton=!1},handleClick:function(e){e.preventDefault(),o.default.share(this.$el.attr("href"),"pinterest")},events:{click:"handleClick",mouseenter:"handleButtonEnter",mouseleave:"handleButtonLeave"}});t.default=v,e.exports=t.default},function(e,t){e.exports='<a class="c-pinterest-button is-hidden"><svg class=p-svg-icon><use xlink:href=#icon-pinterest></use></svg></a>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(209);var r=n(6),a=i(r);a.default.registerComponent("site/image_enlarge",{build:function(e){var t=n(211);return new t({el:e})}})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){return e.which>1||e.ctrlKey||e.metaKey}function a(e){return e.height()>window.innerHeight}Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),o=i(s),u=n(30),l=i(u),c=n(8),d=i(c),f=(0,l.default)(n(212)),h=d.default.View.extend({className:"is-enlargeable",$enlargedOverlay:null,$body:(0,o.default)("body"),enlarge:function(){this._boundClick=this.handleEnlargedClick.bind(this),this._boundKeyPress=this.handleKeypress.bind(this),this.$enlargedOverlay=(0,o.default)(f({original:this.$el.data("original")})),this.$enlargedOverlay.on("click",this._boundClick),this.$body.addClass("enlarged-image-active"),this.$body.on("keydown",this._boundKeyPress),this.$body.append(this.$enlargedOverlay)},removeEnlargedImage:function(){this.$enlargedOverlay&&(this.$enlargedOverlay.remove(),this.$enlargedOverlay.off("click",this._boundClick),this.$enlargedOverlay=null,this.$body.removeClass("enlarged-image-active"),this.$body.off("keydown",this._boundKeyPress))},toggleNoMax:function(){this.$enlargedOverlay.toggleClass("no-max")},events:{click:"handleImageClick"},handleEnlargedClick:function(e){r(e)||("img"!==e.target.nodeName.toLowerCase()||this.$enlargedOverlay.hasClass("no-max")?this.removeEnlargedImage():this.toggleNoMax())},handleKeypress:function(e){27===e.keyCode&&this.removeEnlargedImage()},handleImageClick:function(e){r(e)||a(this.$el)||this.enlarge()}});t.default=h,e.exports=t.default},function(e,t){e.exports='<div class=c-image-enlarge__overlay><img src="<%= data.original %>"></div>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){return a||(a=$.Deferred(),n.e(6,function(){a.resolve(n(214))})),a.promise()}var a,s=n(6),o=i(s);o.default.registerComponent("site/snippet_animation",{build:function(e){r().then(function(t){new t({el:e})})}})},,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),a=i(r),s=n(9),o=i(s),u=n(10),l=i(u),c=n(116),d=i(c),f={embedSanitizer:function(e){var t=['iframe[src*="youtube.com"]','iframe[src*="vine.co"]','iframe[src*="ooyala.com"]','iframe[src*="gfycat.com"]','iframe[src*="theplatform.com"]','div[id*="ooyalaPlayer"]'].join(", ");e.find(t).each(function(e,t){var n=(0,o.default)(t);n.find("object, embed, video").attr("width","100%").attr("height","100%"),n.find(".OoyalaHtml5VideoPlayer, .oo_promoImag").css({width:"100%",height:"100%"}),n.find("table").addBack().removeAttr("width height style"),n.parents(".p-scalable-video").length<1&&("0px"!==n.parent().css("padding-bottom")&&(n.parent().css("padding-bottom",0),n.parent().css("height","auto")),n.wrap('<div class="p-scalable-video"></div>'))});var n=['iframe[src*="mlb.com"][data-aspect][data-src]'].join(", ");e.find(n).each(function(e,t){var n=(0,o.default)(t),i=n.width(),r=Math.round(i/parseFloat(n.attr("data-aspect")));n.attr("src",n.attr("data-src")+"width="+i+"&height="+r).css({height:r+"px"})});var i=[".fb-video",'iframe[src*="facebook.com"]'].join(", ");e.find(i).each(function(e,t){(0,o.default)(t).parents(".c-video-embed").removeClass("c-video-embed").addClass("c-video-embed--self-sizing"),(0,o.default)(t).parent().is(".p-scalable-video")&&(0,o.default)(t).unwrap()});var r=[".instagram-media"].join(", ");e.find(r).each(function(e,t){(0,o.default)(t).css({marginLeft:"auto",marginRight:"auto"})})},hrIllo:function(e){var t="hr.p-entry-hr",n=(0,o.default)("#svg_hr_illustration").html();n&&e.find(t).each(function(e,t){var i=(0,o.default)(t);i.replaceWith('<div class="p-hr-illo"><span class="p-hr-illo__box">'+n+"</span>"+i[0].outerHTML+"</div>")})},dropCap:function(e){var t=".p-dropcap";e.andSelf().find(t).each(function(e,t){var n=(0,o.default)(t),i=n.text(),r=window.innerWidth<900?140:170,a=window.innerWidth<900?25:30;i.length>r&&i.split(" ").length>a&&n.addClass("has-dropcap drop-letter-"+i[0].toLowerCase())})},captionSpacingNormalizer:function(e){var t=".caption";e.find(t).each(function(e,t){var n=(0,o.default)(t);n.prevUntil("figure, img, .p-fullbleed-block, .wide-image-block, .c-wide-block, div[data-volume-uuid], .p-scalable-video","p:empty").remove();var i=n.prev(".e-image").find(".e-image__meta");i.length>0&&(i.prepend("<figcaption>"+n.text()+"</figcaption>"),n.remove());var r=n.prev(".p-fullbleed-block, .wide-image-block, .c-wide-block").find(".e-image");r.length>0&&n.addClass("offset")})},pinterestButton:function(e){var t=".e-image__image, .c-image-gallery__image",n=e.andSelf().find(t);n.length<1||a.default.get("site/pinterest_button").build(n)},imageEnlarge:function(e){var t=".e-image__image",n=e.find(t);n.length<1||n.each(function(e,t){a.default.get("site/image_enlarge").build((0,o.default)(t))})},dataTables:function(e){var t=e.find("table:not([class]), .sbn-boxscore-table").addClass("p-data-table");e.find("table.zebra").addClass("p-striped-table");var n=e.width();t.each(function(e,t){var i=(0,o.default)(t),r=(0,o.default)(t).width();r>n&&i.wrap('<div class="p-overflow-wrapper"></div>')})},ratingsSnippet:function(e){e.find(".ratingbox .rating-number").each(function(e,t){(0,o.default)(t).html((0,o.default)("<span>").width(25*(0,o.default)(t).text()))})},shareQuote:function(e){var t=(0,o.default)('meta[property="og:url"]').attr("content");e.find(".s-share-quote").each(function(){var e=encodeURIComponent((0,o.default)(this).find(".s-share-quote__text").html()),n=d.default.formatSharer(t,"facebook"),i=d.default.formatSharer(t,"twitter",{text:e});(0,o.default)(this).append('<ul class="c-social-buttons c-social-buttons--bright">\n        <li class="c-social-buttons__item"><a class="c-social-buttons__item-link c-social-buttons__twitter" href="'+i+'" data-analytics-social="twitter"><svg class="p-svg-icon c-social-buttons__svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-twitter"></use></svg><span class="c-social-buttons__text">tweet</span></a></li>\n        <li class="c-social-buttons__item"><a class="c-social-buttons__item-link c-social-buttons__facebook" href="'+n+'" data-analytics-social="facebook"><svg class="p-svg-icon c-social-buttons__svg"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-facebook"></use></svg><span class="c-social-buttons__text">share</span></a></li>\n      </ul>')})},snippetAnimations:function(e){var t="[data-animated]",n=e.find(t);n.length<1||n.each(function(e,t){a.default.get("site/snippet_animation").build(t)})},listicleSharing:function(e){var t=e.find(".js-social-item");if(!(t.length<1)){var n=(0,o.default)('meta[property="og:url"]').attr("content");(0,o.default)("body").on("click",".js-social-item a[data-analytics-social]",function(e){e.preventDefault();var t=(0,o.default)(this).closest(".js-social-item").attr("id"),i=n+"#"+t,r=(0,o.default)(this).attr("data-analytics-social");d.default.share(i,r)})}},refreshTwitterEmbeds:function(e){l.default.get(window,"twttr.widgets.load",o.default.noop)()},refreshInstagramEmbeds:function(e){l.default.get(window,"instgrm.Embeds.process",o.default.noop)()},legacyVoxmediaToolsSupprt:function(e){e.find('script[src*="//apps.voxmedia.com/tools"], script[src*="footnote-script"]').each(function(e,t){l.default.loadScript((0,o.default)(t).attr("src"))})},gifs:function(e){n(218),e.find('img[src$=".gif"]').playGIF()},pinterestEmbeds:function(e){(0,o.default)("*[data-pin-do]").length>0&&(0,o.default)('script[src*="pinit.js"]').length<1&&l.default.loadScript("https://assets.pinterest.com/js/pinit.js")},wideImageCompensation:function(e){e.find(".c-wide-block, .wide-image-block").each(function(e,t){var n=(0,o.default)(t),i=n.find("img");i.length<1||!i.hasClass("lazy-image")||(i.hasClass("lazy-loaded")?n.addClass("is-loaded"):i.on("load",function(){n.addClass("is-loaded")}))})}};t.default=f,e.exports=t.default},function(e,t,n){var i=n(9);/*!
	 * Play GIF
	 *
	 * by Jesse Young
	 *
	 * a jQuery plugin to play GIF animations on mouseover (or any other event).
	 *
	 * Examples:
	 *    $('img[src$=".gif"]').playGIF();             // default is mouseover
	 *    $('img[src$=".gif"]').playGIF({on:'click'}); // play animation on click
	 */
i.fn.playGIF=function(e){var t=i.extend({on:"touchstart mouseenter",off:"touchstart mouseleave",autoResize:!1,enable:!0,circleBackgroundColor:"rgba(255,255,255,0.9)",circleTextColor:"#4C4E4D",gifText:"GIF",removeAnchor:!0},e),n=function(e,n,i){n=Math.floor(n),i=Math.floor(i);var r=35;e.fillStyle=t.circleBackgroundColor,e.beginPath(),e.arc(n,i,r,0,2*Math.PI,!0),e.closePath(),e.fill(),e.fillStyle=t.circleTextColor,e.font="15px Helvetica,sans-serif",e.textAlign="center",e.textBaseline="middle",e.fillText(t.gifText,n,i)},r=function(e,n){n.off().on(t.off,function(){a(e,n)});var i=n.attr("src");n.attr("src","data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n.css({width:e.attr("width"),height:e.attr("height")}),setTimeout(function(){n.attr("src",i)},0),e.replaceWith(n)},a=function(e,n){e.off().on(t.on,function(){r(e,n)}),n.replaceWith(e)};return this.each(function(){if(t.enable!==!1){var e=i(this);if(!/img/i.test(this.tagName)||!/\.gif$/i.test(this.src))return!0;var a=document.createElement("canvas");if("undefined"==typeof a.getContext)return!0;var s=a.getContext("2d"),o=new Image;o.onload=function(){var u=a.width=e.width(),l=a.height=e.height();s.drawImage(o,0,0,u,l),o=null;var c=i(a);if(t.autoResize===!0){a.setAttribute("data-src",e.attr("src")),a.setAttribute("class","gif");var d=i('<span class="faux-image">');d.css({float:e.css("float"),margin:e.css("margin"),padding:e.css("padding"),"max-width":"100%",position:"relative",display:"block",height:a.height}),c.css({position:"absolute",top:0,left:0}),c=d.append(c)}else c.css({float:e.css("float"),margin:e.css("margin"),padding:e.css("padding"),display:e.css("display")});e.replaceWith(c);var f=c.parent();f.is("p")||"none"===f.css("max-width")&&"none"===f.css("max-height")||(u=f.width(),l=f.height()),t.removeAnchor&&f.is("a")&&/\.gif$/i.test(f.attr("href"))&&f.replaceWith(c),u>150&&l>150&&n(s,u/2,l/2),c.on(t.on,function(){r(c,e)})},o.src=e.attr("src")}})}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(30),o=i(s),u=n(220),l=i(u),c=n(10),d=i(c),f=n(22),h=i(f),p=n(18),m=i(p),v="webkitfullscreenchange.videoPlayer mozfullscreenchange.videoPlayer fullscreenchange.videoPlayer MSFullscreenChange",g=a.default.View.extend({_opts:{},template:(0,o.default)(l.default),className:"c-video-embed__on-demand",initialize:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this._opts=e,this.render()},render:function(){var e=d.default.extend({id_uid:(new Date).getTime(),volume_autoplay:"true",volume_trigger:"embed"},this._opts);this.$el.html(this.template(e))},embed:function(){try{h.default.embedVideo(this.$(".c-video-embed")[0])}catch(e){console.log(e)}},play:function(){var e=this;try{var t=this.$(".c-video-embed iframe")[0];this.$el.addClass("activated");var n=(0,h.default)(t);if(n.play(),m.default.isMobile()&&!m.default.iOSversion().ios){var i=$(document),r=function(t){m.default.isFullScreen()||(setTimeout(function(){return n.pause()},1e3),e.$el.removeClass("activated"),i.off(v))};t.requestFullscreen?t.requestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullScreen&&t.webkitRequestFullScreen(),i.off(v).on(v,r)}}catch(e){console.log(e)}}});t.default=g,e.exports=t.default},function(e,t){e.exports='<% if (data.volume_uuid) { %><div class="c-video-embed volume-video" id="volume-placement-<%= data.id_uid %>" data-volume-id="<%= data.volume_id %>" data-volume-uuid="<%= data.volume_uuid %>" data-volume-placement="<%= data.volume_placement %>" data-volume-autoplay="<%= data.volume_autoplay %>" data-volume-trigger="<%= data.volume_trigger %>" data-volume-player-choice="<%= data.player_choice %>" data-volume-start-time="<%= data.start_time %>" data-analytics-placement="<%= data.analytics_placement %>"></div><% } else if (data.video_embed_code) { %><div class=p-scalable-video><%= data.video_embed_code %></div><% } %><% if (data.include_cta) { %><% if (data.facebook_video_url.length > 0) { %><a class=c-video-embed__subscribe href="<%= data.facebook_video_url %>">For more videos, follow us on Facebook.</a><% } else if (data.youtube_url.length > 0) { %> <a class=c-video-embed__subscribe href="<%= data.youtube_url %>">Like this video? Subscribe on YouTube.</a><% } %><div class=c-video-embed__cta><a href="<%= data.url %>">Read more:&nbsp;<%= data.title %></a></div><div class=c-video-embed__ad-slot></div><% } %>'},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=n(10),l=i(u),c=a.default.View.extend({events:{'click [data-ui="next-entry"]':"onNextClick",'click [data-ui="prev-entry"]':"onPrevClick",'click [data-ui="pager-button"]':"onPagerClick"},initialize:function(){var e=this;this.$entries=this.$el.find(".c-entry-box-group__entries"),this.entryNumber=this.$entries.children().length,this.i=0,this.applyMobileStyles(),this.$el.addClass("js-active"),(0,o.default)(window).on("resize",l.default.throttle(function(){e.applyMobileStyles()},150))},applyMobileStyles:function(){(0,o.default)(window).width()>600?(this.$entries.removeAttr("style"),this.$entries.find("li").removeAttr("style")):(this.$entries.width(100*this.entryNumber+"%"),this.$entries.find("li").width(100/this.entryNumber+"%"))},positionEntry:function(e){var t=e*-100+"%";this.$('[data-ui="pager-button"][data-index="'+e+'"]').addClass("active").siblings().removeClass("active"),this.$entries.css("left",t)},onNextClick:function(){this.i<this.entryNumber-1&&(this.i+=1,this.positionEntry(this.i))},onPrevClick:function(){this.i>0&&(this.i-=1,this.positionEntry(this.i))},onPagerClick:function(e){this.i=this.$(e.currentTarget).data("index"),this.positionEntry(this.i)}});t.default=c,e.exports=t.default},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(227);var r=n(6),a=i(r);a.default.registerComponent("site/entry_correction",function(e){$(e).find("[data-toggle]").on("click",function(t){t.preventDefault(),$(e).toggleClass("expanded")})})},function(e,t){},,function(e,t,n){"use strict";n(230)},function(e,t){},,function(e,t,n){"use strict";n(100),n(192),n(233),n(174),n(195),n(239),n(242)},function(e,t,n){"use strict";n(100),n(234),n(237)},function(e,t,n){"use strict";n(235)},function(e,t){},,function(e,t){},,function(e,t,n){"use strict";n(240)},function(e,t){},,function(e,t){},,function(e,t,n){"use strict";n(245)},function(e,t){},,function(e,t,n){"use strict";n(248)},function(e,t){},,function(e,t,n){"use strict";n(251)},function(e,t){},,function(e,t,n){"use strict";n(254)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(257);var r=n(6),a=i(r);a.default.registerComponent("site/filter_list",function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=n(259);new i({el:e,prevent_default_events:t.prevent_default_events})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=n(30),l=i(u),c=n(260),d=i(c),f=a.default.View.extend({preventDefaultEvents:!1,handleSelectChange:function(e){if(this.preventDefaultEvents){e.preventDefault();var t=(0,o.default)(e.currentTarget).attr("value");this.selectItem(t)}else window.location=e.currentTarget.value},handleClick:function(e){if(this.preventDefaultEvents){e.preventDefault();var t=(0,o.default)(e.currentTarget).attr("href");this.selectItem(t)}},selectItem:function(e){this.$el.trigger("filter",e),this.$(".is-selected").removeClass("is-selected"),this.$('option[selected="selected"]').removeAttr("selected"),this.$('*[data-slug="'+e+'"]').addClass("is-selected"),this.$('option[value="'+e+'"]').attr("selected","selected")},events:{"change select":"handleSelectChange","click a":"handleClick"},selectTemplate:(0,l.default)(d.default),initialize:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.$el.addClass("js-active"),this.preventDefaultEvents=e.prevent_default_events||!1;var t=this.$el.find("ul li").map(function(e,t){var n=(0,o.default)(t),i=n.find("a"),r=n.find(".c-filter-list__label"),a=n.find(".c-filter-list__count");return{title:r.text(),url:i.attr("href"),selected:n.hasClass("is-selected"),count:a.length>0?a.text():null}});this.$el.append(this.selectTemplate(t))}});t.default=f,e.exports=t.default},function(e,t){e.exports='<select><% for (var i=0; i<data.length; i++) { %><% var item = data[i]; %><% if (item.selected) { %><option selected value="<%= item.url %>"><% } else { %><option value="<%= item.url %>"><% } %><%= item.title %><% if (item.count) { %>(<%= item.count %>)<% } %><% } %></select>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(6),a=i(r),s=$.Deferred();a.default.registerComponent("site/font_loader",function(e,t){var i="chorus-fonts-"+t.version,r=" fonts-loaded",a=function(){},o=n(262),u=n(19),l=document.documentElement,c=t.catalog.map(function(e){return new o(e.family,e).load(null,1e4).then(a,function(){console.log("Font failure: "+JSON.stringify(e))})});Promise.all(c).then(function(){l.className+=r,u.set(i,"yes"),s.resolve()},function(){l.className+=r,u.set(i,"no"),s.reject()})},{load:function(){return s}})},function(e,t,n){!function(){"use strict";function e(e){d.push(e),1==d.length&&c()}function t(){for(;d.length;)d[0](),d.shift()}function n(e){this.a=f,this.b=void 0,this.f=[];var t=this;try{e(function(e){a(t,e)},function(e){s(t,e)})}catch(e){s(t,e)}}function i(e){return new n(function(t,n){n(e)})}function r(e){return new n(function(t){t(e)})}function a(e,t){if(e.a==f){if(t==e)throw new TypeError;var n=!1;try{var i=t&&t.then;if(null!=t&&"object"==typeof t&&"function"==typeof i)return void i.call(t,function(t){n||a(e,t),n=!0},function(t){n||s(e,t),n=!0})}catch(t){return void(n||s(e,t))}e.a=0,e.b=t,o(e)}}function s(e,t){if(e.a==f){if(t==e)throw new TypeError;e.a=1,e.b=t,o(e)}}function o(t){e(function(){if(t.a!=f)for(;t.f.length;){var e=t.f.shift(),n=e[0],i=e[1],r=e[2],e=e[3];try{0==t.a?r("function"==typeof n?n.call(void 0,t.b):t.b):1==t.a&&("function"==typeof i?r(i.call(void 0,t.b)):e(t.b))}catch(t){e(t)}}})}function u(e){return new n(function(t,n){function i(n){return function(i){s[n]=i,a+=1,a==e.length&&t(s)}}var a=0,s=[];0==e.length&&t(s);for(var o=0;o<e.length;o+=1)r(e[o]).c(i(o),n)})}function l(e){return new n(function(t,n){for(var i=0;i<e.length;i+=1)r(e[i]).c(t,n)})}var c,d=[];c=function(){setTimeout(t)};var f=2;n.prototype.g=function(e){return this.c(void 0,e)},n.prototype.c=function(e,t){var i=this;return new n(function(n,r){i.f.push([e,t,n,r]),o(i)})},window.Promise||(window.Promise=n,window.Promise.resolve=r,window.Promise.reject=i,window.Promise.race=l,window.Promise.all=u,window.Promise.prototype.then=n.prototype.c,window.Promise.prototype.catch=n.prototype.g)}(),function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function n(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}function i(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font:"+t+";"}function a(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function s(e,n){function i(){var e=r;a(e)&&null!==e.a.parentNode&&n(e.g)}var r=e;t(e.b,i),t(e.c,i),a(e)}function o(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function u(){if(null===d){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}d=""!==e.style.font}return d}function l(e,t){return[e.style,e.weight,u()?e.stretch:"","100px",t].join(" ")}var c=null,d=null,f=null;o.prototype.load=function(e,t){var a=this,o=e||"BESbswy",u=0,d=t||3e3,h=(new Date).getTime();return new Promise(function(e,t){if(null===f&&(f=!!document.fonts),f){var p=new Promise(function(e,t){function n(){(new Date).getTime()-h>=d?t():document.fonts.load(l(a,'"'+a.family+'"'),o).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}n()}),m=new Promise(function(e,t){u=setTimeout(t,d)});Promise.race([m,p]).then(function(){clearTimeout(u),e(a)},function(){t(a)})}else n(function(){function n(){var t;(t=-1!=g&&-1!=_||-1!=g&&-1!=b||-1!=_&&-1!=b)&&((t=g!=_&&g!=b&&_!=b)||(null===c&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=c&&(g==y&&_==y&&b==y||g==w&&_==w&&b==w||g==x&&_==x&&b==x)),t=!t),t&&(null!==k.parentNode&&k.parentNode.removeChild(k),clearTimeout(u),e(a))}function f(){if((new Date).getTime()-h>=d)null!==k.parentNode&&k.parentNode.removeChild(k),t(a);else{var e=document.hidden;!0!==e&&void 0!==e||(g=p.a.offsetWidth,_=m.a.offsetWidth,b=v.a.offsetWidth,n()),u=setTimeout(f,50)}}var p=new i(o),m=new i(o),v=new i(o),g=-1,_=-1,b=-1,y=-1,w=-1,x=-1,k=document.createElement("div");k.dir="ltr",r(p,l(a,"sans-serif")),r(m,l(a,"serif")),r(v,l(a,"monospace")),k.appendChild(p.a),k.appendChild(m.a),k.appendChild(v.a),document.body.appendChild(k),y=p.a.offsetWidth,w=m.a.offsetWidth,x=v.a.offsetWidth,f(),s(p,function(e){g=e,n()}),r(p,l(a,'"'+a.family+'",sans-serif')),s(m,function(e){_=e,n()}),r(m,l(a,'"'+a.family+'",serif')),s(v,function(e){b=e,n()}),r(v,l(a,'"'+a.family+'",monospace'))})})},e.exports=o}()},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(6),a=i(r);a.default.registerComponent("site/foursquare_button",function(e,t){var i=n(264);new i({el:e})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(265),o=i(s),u=a.default.View.extend({initialize:function(e){var t=this;o.default.fetch().then(function(){var e=new fourSq.widget.SaveTo({vid:t.$el.data("foursquare-id")});e.attach(t.el),t.$el.on("click",function(e){e.preventDefault()})})}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r,a=n(7),s=i(a),o=n(9),u=i(o);e.exports={fetch:function(){var e=this;return r||(r=u.default.Deferred(),s.default.fetch().then(function(){e.networkFoursquareUserID=a.currentNetwork.get("foursquare_user_id"),window.___fourSq={uid:e.networkFoursquareUserID,explicit:!1,secure:!0,onReady:function(){r.resolve()}},u.default.getScript("https://platform-s.foursquare.com/js/widgets.js")})),r.promise()}}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(267);var r,a,s=n(6),o=i(s),u=n(10),l=i(u),c=n(9),d=i(c),f=n(18),h=i(f),p=.25,m=200,v=h.default.iOSversion().iOS,g="objectFit"in document.documentElement.style,_=h.default.supportsPictureElement(),b=!!window.IntersectionObserver,y=[],w=[],x=[],k=[];o.default.registerComponent("site/gifv",function(e,t){function i(){y.push(M),h(M,t),a||(a=new IntersectionObserver(o,{threshold:[0,.25,.5,.75,1]}),a.POLL_INTERVAL=m),a.observe(M),T=l.default.debounce(function(){h(M,t)},m),(0,d.default)(window).on("resize orientationchange",T)}function s(e){a.unobserve(e),(0,d.default)(window).off("resize orientationchange",T),y=y.filter(function(t){return t!==e}),x=x.filter(function(t){return t!==e}),k=k.filter(function(t){return t!==e}),w=w.filter(function(t){return t.target!==e}),C(e)}function o(e){if(e.forEach(function(e){w=w.filter(function(t){return t.target!==e.target}),e.intersectionRatio>=p&&w.push(e)}),v){var t=[u(w)].filter(function(e){return e});x=f(t)}else x=f(w);k=y.filter(function(e){return x.indexOf(e)<0}),c(k,x)}function u(e){var t=e.sort(function(e,t){return t.intersectionRatio-e.intersectionRatio}),n=t.filter(function(e){return e.intersectionRatio===t[0].intersectionRatio});return n.length>1&&(t=n.sort(function(e,t){return e.boundingClientRect.top-t.boundingClientRect.top})),t.length?t[0]:null}function c(e,t){e.forEach(function(e){e.paused||e.pause()}),t.forEach(function(e){if(e.paused){var t=e.play();t.then(function(){}).catch(function(){s(e)})}})}function f(e){return e.map(function(e){return e.target})}function h(e,t){var n=!e.paused,i=$(e,t),r=e.getAttribute("src");r!==i&&(e.removeAttribute("src"),e.load(),e.setAttribute("src",i),e.load()),n&&e.play()}function C(e){var t=e.parentNode,n=e.querySelector("script"),i=n.innerHTML;return e.outerHTML=i,{picture:t.querySelector("picture"),img:t.querySelector("img")}}function $(e,t){var n={};if(t.art_directed.length)for(var i=0;i<t.art_directed.length;i++){var r=t.art_directed[i];if(window.matchMedia(r.media).matches){n=r.urls;break}}Object.keys(n).length||(n=t.default);var a=e.offsetWidth*(window.devicePixelRatio||1),s=E(a,Object.keys(n));return n[parseInt(s)]}function E(e,t){for(var n=t[0],i=Math.abs(e-n),r=0;r<t.length;r++){var a=Math.abs(e-t[r]);a<i&&(i=a,n=t[r])}return n}var T,M=e;if(void 0===r){var S=M.play();r=!(!S||!S.then)}return r?void(b||g?g?b?i():n.e(11,function(){n(271),i()}):n.e(8,function(){i();var e=n(269);e(M)}):n.e(10,function(){n(271),i();var e=n(269);e(M)})):_||g?g?_?void C(M):void n.e(9,function(){n(270);var e=C(M);window.picturefill({elements:[e.img]})}):void n.e(8,function(){var e=n(269),t=C(M);e(t.img)}):void n.e(7,function(){var e=n(269);n(270);var t=C(M);e(t.img),window.picturefill({elements:[t.img]})})},{priority:o.default.HIGH})},function(e,t){},,,,,function(e,t,n){"use strict";n(273)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(24),n(276),n(165),n(280);var r=n(6),a=i(r);a.default.registerComponent("site/global_header",function(e,t){var i=n(282);new i({el:e,data:t})},{priority:a.default.HIGH})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(277);var r=n(6),a=i(r);a.default.registerComponent("site/nav_list",function(e,t){var i=n(279);new i({el:e,data:t})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=n(18),l=i(u),c=n(17),d=i(c),f=null,h=600,p=a.default.View.extend({$body:(0,o.default)("body"),events:{'click [data-ui="close-nav"]':"closeLists","click a":"trackClick"},closeLists:function(){this.handleListLeave(),this.detachLists()},handleTriggerClick:function(e){e.preventDefault();var t=(0,o.default)(e.currentTarget);t.hasClass("is-attached")?this.closeLists():this.handleTriggerEnter(e,!0)},handleTriggerEnter:function(e){var t=!(arguments.length<=1||void 0===arguments[1])&&arguments[1];e.preventDefault(),clearTimeout(f);var n=(0,o.default)(e.currentTarget);!t&&"more"===n.data("nav-list-trigger")&&n.hasClass("use-fixed-dropdown")||this.attachList(n.data("nav-list-trigger"),n,t||l.default.isTouch())},handleNavListClick:function(e){e.preventDefault();var t=e.data.tabId,n=this.$body.find("[data-nav-list-id="+t+"]");n.toggleClass("show-sub-items")},handleListEnter:function(){clearTimeout(f)},handleListLeave:function(e){if(e){var t=(0,o.default)(e.currentTarget);if("more"===t.data("nav-list-trigger")&&t.hasClass("use-fixed-dropdown"))return}l.default.isSmallWindow(h)||(clearTimeout(f),f=setTimeout(o.default.proxy(this.detachLists,this),200))},handleStumpEnter:function(){clearTimeout(f),this.detachLists()},trackClick:function(e){d.default.nav("click",e.currentTarget.innerText.trim())},attachList:function(e,t,n){var i=this;this.detachLists();var r=t.offset();if(this.$el.addClass("is-active"),t.addClass("is-attached"),t.height(),"more"===e){this.$el.addClass("show-more-menu");var a=this.$el.find(".c-nav-list__main")}else this.$el.removeClass("show-more-menu"),a=this.$el.find("[data-nav-list-id="+e+"]").andSelf().filter("[data-nav-list-id="+e+"]").find("> .c-nav-list__inner > .c-nav-list__sub-items, > .c-nav-list__sub-items").first();a.addClass("is-attached");var s=(0,o.default)(".c-nav-list").hasClass("show-more-menu")&&(0,o.default)(".c-nav-list").hasClass("use-fixed-dropdown");if(window.innerWidth>=h&&!s)this.$el.find(".c-nav-list__inner").css({top:r.top+t.height()+"px",left:"auto",right:"auto"}),this.$el.find(".c-nav-list__main").off("mouseleave"),this.$el.find(".c-nav-list__main").on("mouseleave",o.default.proxy(this.handleListLeave,this)),r.left+a.width()>=window.innerWidth?a.css({right:this.$body.width()-(r.left+t.outerWidth())+"px",left:"auto"}):a.css({left:r.left+"px",right:"auto"});else if(window.innerWidth>=h&&s){var u=(0,o.default)(".c-masthead").offset();this.$el.find(".c-nav-list__main").off("mouseleave"),this.$el.find(".c-nav-list__inner").css({top:(u?u.top:r.top)-(0,o.default)(window).scrollTop()+"px",right:"0",left:"auto"})}else this.$el.find(".c-nav-list__inner").css({top:r.top+t.height()-this.$body.scrollTop()+"px",left:"auto",right:"auto"});(window.innerWidth<=h||s)&&(0,o.default)("html").addClass("is-nav-list-active"),window.innerWidth>=h&&this.$body.off("click.navList touchstart.navList").on("click.navList touchstart.navList",function(e){var t=(0,o.default)(e.target);t.closest(".c-nav-list__inner").length||t.is(".c-nav-list__inner")||(e.preventDefault(),i.closeLists())}),d.default.nav("expand",t.text().trim(),!n)},detachLists:function(){this.$body.find("[data-nav-list-trigger].is-attached, [data-nav-list-id].is-attached, [data-nav-list-id] .is-attached").removeClass("is-attached").removeAttr("style"),this.$body.find(".c-nav-list").removeClass("is-active").removeClass("show-more-menu"),this.$el.find("[data-nav-list-id] .is-active").removeClass("is-active"),(0,o.default)("html").removeClass("is-nav-list-active"),this.$body.off("click.navList touchstart.navList")},listenFor:function(e){this.$body.on("click","*[data-nav-list-trigger="+e+"]",o.default.proxy(this.handleTriggerClick,this)),this.$body.on("click",".c-nav-list__main [data-nav-list-id="+e+"] .c-nav-list__label",{tabId:e},o.default.proxy(this.handleNavListClick,this)),l.default.isTouch()||"more"===e&&(0,o.default)(".c-nav-list").hasClass("use-fixed-dropdown")||(this.$body.on("mouseenter.navTrigger","*[data-nav-list-trigger="+e+"]",o.default.proxy(this.handleTriggerEnter,this)),this.$body.on("mouseleave.navTrigger","*[data-nav-list-trigger="+e+"]",o.default.proxy(this.handleListLeave,this)))},initialize:function(e){var t=this;this.data=e.data,this.$el.find("*[data-nav-list-id]").each(function(e,n){t.listenFor(n.getAttribute("data-nav-list-id"))}),this.$body.find(".has-no-sublist a").on("mouseenter focus",o.default.proxy(this.handleStumpEnter,this)),this.$el.find(".c-nav-list__main").on("mouseenter",o.default.proxy(this.handleListEnter,this)),this.$el.find(".c-nav-list__main").on("mouseleave",o.default.proxy(this.handleListLeave,this))}});t.default=p,e.exports=t.default},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),a=i(r),s=n(8),o=i(s),u=n(7),l=i(u),c=n(9),d=i(c),f=n(10),h=i(f),p=n(17),m=i(p),v=n(18),g=i(v),_=a.default.get("apps/auth"),b=o.default.View.extend({initialize:function(){var e=this;this.listenTo(u.currentUser,"change",this.render),this.render(),a.default.get("site/font_loader").load().then(function(){e.setNavItemsDisplay()}),this.setupIndicies(),(0,d.default)(window).on("resize",h.default.debounce(this.setNavItemsDisplay,200)),g.default.browser().safari===!0&&this.$body.addClass("safari")},$body:(0,d.default)("body"),render:function(){var e=this;u.currentUser.fetch().then(function(){if(u.currentUser.isLoggedIn()){var t=u.currentUser.toJSON();t.logout_url=l.default.get("auth_url")+"/logout";var n='\n          <li class="c-global-header__login-menu-item"><a href="'+t.profile_url+'">'+t.username+'</a></li>\n          <li class="c-global-header__login-menu-item"><a href="'+t.edit_profile_url+'">Edit Profile</a></li>\n          <li class="c-global-header__login-menu-item"><a href="'+t.logout_url+'" data-ui="logout">Log out</a></li>\n        ';e.$('[data-ui="menu"]').html(n),e.$('[data-ui="icon"]').attr("href",u.currentUser.get("profile_url")).html('<span class="u-hidden-text">View Profile</span><img src="'+t.profile_image_url+'" alt="">')}})},events:{"click [data-ui-signin]":"onSignin",'click [data-ui="icon"]':"onIcon",'click [data-ui="logout"]':"onLogout","mouseenter .c-global-header__login":"onLoginEnter","mouseleave .c-global-header__login":"onLoginLeave","focus .c-global-header__login":"onLoginEnter","blur .c-global-header__login":"onLoginLeave","click .c-global-header__search-trigger":"onSearchToggleClick","click .c-global-header__search":"onSearchAreaClick","click .c-global-header__link":"onLinkClick","click .c-global-header__link-more":"onLinkClick","click .c-global-header__link-communities":"onLinkClick",site_sponsorship_logo_rendered:"onSiteSponsorshipLogoRender",site_sponsorship_logo_mobile_rendered:"onSiteSponsorshipLogoRender","keyup .p-input-header__input":"onSearchInputChange"},setNavItemsDisplay:function(){var e,t=this.$(".c-global-header__link-more"),n=0,i=0,r=[];n+=(0,d.default)(".c-global-header__links").width(),t.hasClass("hidden")||(i+=t.width()),this.$(".c-global-header__link.is-pinned").each(function(){r.push(this)}),this.$(".c-global-header__link").not(".is-pinned").each(function(){r.push(this)}),r.forEach(function(e){var t=(0,d.default)(e);i+=t.width();var r=t.attr("data-nav-item-id"),a=(0,d.default)(".c-nav-list").find("[data-nav-item-id="+r+"]");i>n?(t.addClass("hidden"),a.removeClass("hidden")):(t.removeClass("hidden"),a.addClass("hidden"))}),e=(0,d.default)(".c-global-header__link.hidden[data-nav-list-trigger]"),e.length>0?((0,d.default)(".c-nav-list").addClass("use-fixed-dropdown"),t.addClass("use-fixed-dropdown")):((0,d.default)(".c-nav-list").removeClass("use-fixed-dropdown"),t.removeClass("use-fixed-dropdown")),t.toggleClass("hidden",i<=n)},onLoginEnter:function(){this.$el.addClass("is-login-active"),this.action_to=null},onLoginLeave:function(){var e=this;this.action_to=setTimeout(function(){null!==e.action_to&&e.$el.removeClass("is-login-active")},200)},onSearchAreaClick:function(e){e.stopPropagation()},onSearchToggleClick:function(e){var t=this;e.preventDefault(),e.stopPropagation();var n="click.search-bar",i="is-search-active",r=this.$el.hasClass(i);if(r)this.$body.off(n);else{var a=this.$(".c-global-header__search-menu");this.$el.find('input[name="q"]').focus(),this.$body.on(n,function(e){(0,d.default)(e.target).closest(a).length||(t.$el.removeClass(i),t.$body.off(n))})}this.$el.toggleClass(i,!r)},onSignin:function(e){var t=this;if(e.preventDefault(),g.default.browser().safari)u.currentCommunity.fetch().then(function(){var n={community_id:u.currentCommunity.get("id"),return_to:h.default.currentUrl()};window.location=t.$(e.currentTarget).attr("href")+"?"+h.default.paramitize(n)});else{var n=this.$(e.currentTarget).data("ui-signin");_.open({action:n})}},onIcon:function(e){u.currentUser.isLoggedIn()||this.onSignin(e)},onLogout:function(e){e.preventDefault(),_.open({action:"logout"})},onLinkClick:function(e){m.default.nav("click",e.currentTarget.innerText.trim())},onSiteSponsorshipLogoRender:function(e){this.$el.addClass("has-site-sponsorship-logo")},onSearchInputChange:function(e){var t=(0,d.default)(event.target).val().toLowerCase();"guy is at"===t&&((0,d.default)(".p-flavortown").length<1&&(0,d.default)("body").append('<div class="p-flavortown"></div>'),setTimeout(function(){(0,d.default)(".p-flavortown").addClass("is-active")},1e3))},setupIndicies:function(){var e=this,t=null,n=this.$el.find("a, button");n.each(function(n,i){var r=(0,d.default)(i),a=r.parent(),s=a.attr("data-nav-list-trigger");null==t&&(t=parseInt(r.attr("tabindex"))),r.attr("tabIndex",t),t+=1,s&&"more"!==s?e.$body.find("[data-nav-list-id="+s+"] a").each(function(e,n){(0,d.default)(n).attr("tabindex",t),t+=1}):"more"===s?e.$body.find("[data-nav-list-id="+s+"] > li").each(function(e,n){(0,d.default)(n).hasClass("hidden")||(0,d.default)(n).find("a").each(function(e,n){(0,d.default)(n).attr("tabindex",t),t+=1})}):a.addClass("has-no-sublist")})}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";n(284)},function(e,t){},,function(e,t,n){"use strict";n(174),n(287),n(292)},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(24),n(288);var r=n(6),a=i(r);a.default.registerComponent("site/social_buttons_list",function(e,t){var i=n(290);t.el=e,new i(t)})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),a=i(r),s=n(8),o=i(s),u=n(9),l=i(u),c=n(7),d=n(58),f=i(d),h=n(291),p=i(h),m=n(116),v=i(m),g=n(14),_=i(g),b=o.default.View.extend({initialize:function(e){var t=this;this.url=e.base_url,e.entry_id&&(this.entry=f.default.add({id:e.entry_id}),this.listenTo(this.entry,"change",this.renderRecs),this.renderRecs()),setTimeout(function(){p.default.fetch(e.services).always(function(){t.render()})},1500)},renderRecs:function(){var e=this.entry.isRecommendedByUser(),t=this.entry.get("recommended_count");this.entry&&this.$('[data-analytics-social="rec"]').toggleClass("is-recced",e).toggleClass("has-content",!!t&&!e).find('[data-ui="count"]').text(t?" ("+t+")":"")},render:function(){this.$("[data-analytics-social]").each(function(){var e=(0,l.default)(this),t=e.data("analytics-social");p.default.hasCount(t)&&p.default.get(t)>0&&e.find('[data-ui="count"]').text(" ("+p.default.get(t)+")")})},events:{"click [data-analytics-social]":"onService"},onService:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("analytics-social"),n=e.currentTarget.href||this.url;"rec"===t?this.onRec():v.default.share(n,t)},onRec:function(){var e=this;c.currentUser.fetch().then(function(){if(c.currentUser.isLoggedIn())if(c.currentMember.get("id")){if(!e.entry)return;var t=!e.entry.isRecommendedByUser();e.entry.recommend(t).done(function(){t&&_.default.success("Recommended.")}).fail(function(e){_.default.error(e)})}else _.default.error("You must be a member of "+c.currentCommunity.get("name")+" to recommend.");else a.default.get("apps/auth").open()})}});t.default=b,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(28),o=i(s),u=n(10),l=i(u),c=a.default.Model.extend(o.default.extend({urls:{facebook:"https://api.facebook.com/method/links.getStats",linkedin:"https://www.linkedin.com/countserv/count/share",pinterest:"https://widgets.pinterest.com/v1/urls/count.json"},ajaxOptions:{method:"get"},defaults:{url:location.href.split("?")[0],twitter:null,facebook:null,facebook_shares:null,facebook_likes:null,
linkedin:null,pinterest:null},hasCount:function(e){return"number"==typeof this.get(e)},fetch:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0]instanceof Array&&(t=t[0]);for(var i=this._c=this._c||{},r=[],a=0;a<t.length;a++){var s=t[a];this.urls[s]&&(i[s]||(i[s]=this["facebook"===s?"_fb":"_other"](s)),r.push(i[s]))}return l.default.all(r)},_fb:function(e){var t=this;return this.ajax(e,{data:{urls:this.get("url"),format:"json"},success:function(e){e&&e.length&&t.set({facebook:e[0].share_count,facebook_shares:e[0].share_count,facebook_likes:e[0].like_count})}})},_other:function(e){var t=this;return this.ajax(e,{dataType:"jsonp",data:{url:this.get("url"),format:"jsonp"},success:function(n){t.set(e,n.count)}})}}));e.exports=new c,e.exports.forUrl=function(e){return new c({url:e})}},function(e,t){},,function(e,t,n){"use strict";n(295)},function(e,t){},,function(e,t,n){"use strict";n(298)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(301);var r=n(6),a=i(r),s=n(9),o=i(s);a.default.registerComponent("site/masthead",function(e,t){var n=(0,o.default)(e);n.on("site_sponsorship_logo_rendered site_sponsorship_logo_mobile_rendered",function(e){n.addClass("has-site-sponsorship-logo")})},{priority:a.default.HIGH})},function(e,t){},,function(e,t,n){"use strict";n(304)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(307);var r=n(6),a=i(r);a.default.registerComponent("site/ooyala_playlist",function(e,t){var i=n(309);new i({el:e,data:t})})},function(e,t){},,function(e,t,n){(function(i){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=n(8),s=r(a),o=n(17),u=r(o),l=n(9),c=r(l),d=s.default.View.extend({initialize:function(e){var t=e.data;c.default.getScript(t.script_src,function(){var e=i[t.namespace],n=document.getElementById("playlistContainer"),r=n.getAttribute("data-analytics-placement"),a=JSON.parse(t.config_settings);a.playlistsPlugin={data:t.playlist_id},a.onCreate=function(t){var i=null,a="video",s="ooyala:view:"+r,o="ooyala | "+t.getCurrentItemTitle();u.default.trackElementView(n,a,s,o,!0),t.mb.subscribe(e.EVENTS.PLAYING,"ArticlePlaylist",function(){s="ooyala:play:"+r,o="ooyala | "+t.getCurrentItemTitle(),o!=i&&(u.default.event(a,s,o),i=o)})},"undefined"!=typeof e&&e.ready(function(){e.Player.create(n.id,"",a)})})}});t.default=d,e.exports=t.default}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(6),a=i(r);a.default.registerComponent("site/opentable_button",function(e,t){var i=n(311);new i({el:e})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(7),o=i(s),u=n(9),l=i(u),c=a.default.View.extend({initialize:function(e){var t=this;o.default.fetch().then(function(){t.opentableRefID=s.currentNetwork.get("opentable_ref_id"),t.$el.on("click",function(e){t.handleClick(e)})})},handleClick:function(e){e.preventDefault();var t={rid:e.currentTarget.getAttribute("data-opentable-id"),ref:this.opentableRefID},n="http://www.opentable.com/single.aspx?"+l.default.param(t);window.open(n,"_blank")}});t.default=c,e.exports=t.default},function(e,t,n){"use strict";n(313)},function(e,t){},,function(e,t,n){"use strict";n(316)},function(e,t){},,function(e,t,n){"use strict";n(319)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){n.e(8,function(){var t=n(269);t(e.getElementsByTagName("img")[0])})}function a(e){n.e(7,function(){n(270);var t=n(269);window.picturefill({elements:[e]}),t(e.getElementsByTagName("img")[0])})}n(322);var s,o=n(18),u=i(o),l=n(6),c=i(l),d=n(103),f=i(d),h=n(9),p=i(h),m=n(10),v=i(m),g=u.default.supportsPictureElement(),_="objectFit"in document.documentElement.style;c.default.registerComponent("site/picture_element",function(e,t){t.dynamic_picture&&f.default.addEl(e,t);var n;if(g||_?_||(n=r):n=a,n){if(!s){s=[];var i=function(){return s.forEach(n)};(0,p.default)(window).on("resize orientationchange",v.default.debounce(i,200)),u.default.browser().msie&&setInterval(i,1e4)}s.push(e),n(e)}},{priority:c.default.LOW})},function(e,t){},,function(e,t,n){"use strict";n(325),n(326),n(327)},function(e,t,n){e.exports=n.p+"components/site/place_hero/assets/curbed.bcaa0e9121613b6cd1ff12bac87e06b3.png"},function(e,t,n){e.exports=n.p+"components/site/place_hero/assets/eater.3fb79704bf68de38080dd7bef010ec53.jpg"},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(6),a=i(r),s=n(7),o=i(s),u=n(19),l=i(u);a.default.readyTask(function(){o.default.fetch().then(function(){var e=o.default.get("privacy_notification"),t=document.cookie.match(new RegExp("_chorus_geoip_continent=([^;]+)"))||[];if(t&&null!=t[1]&&e&&null!=e.geo_continent_constraint&&t[1]==e.geo_continent_constraint){var i="privacy-policy-accepted-"+e.id;if(!l.default.get(i)){var r=n(330);new r({policy_change_id:i})}}})})},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(331),o=i(s),u=n(30),l=i(u),c=n(19),d=i(c),f=n(14),h=i(f),p=n(17),m=i(p),v="https://www.voxmedia.com/pages/terms-of-use",g="https://www.voxmedia.com/pages/privacy-policy",_=a.default.View.extend({policy_change_id:null,initialize:function(e){var t=this;this.policy_change_id=e.policy_change_id,h.default.notify((0,l.default)(o.default)({tosUrl:v,ppUrl:g}),!1),$(".c-privacy-policy-notification").on("click",function(e){t.handleClick(e)}),$(".c-privacy-policy-notification").parent().siblings(".p-notice-dismiss").on("click",function(e){t.handleClick(e)})},remember:function(){d.default.set(this.policy_change_id,"yarp")},track:function(){var e=arguments.length<=0||void 0===arguments[0]?close:arguments[0];m.default.event("ppalert:click","view",e)},handleClick:function(e){e.preventDefault();var t=e.target.getAttribute("data-ui-action");this.track(t),t&&e.target.getAttribute("href")?setTimeout(function(){window.location=e.target.getAttribute("href")},100):(this.remember(),h.default.close())}});t.default=_,e.exports=t.default},function(e,t){e.exports='<div><div class=c-privacy-policy-notification>Transparency is important to us. Since you last used our Services, we have made some changes to our <strong><a data-ui-action=tos-link href="<%= data.tosUrl %>">Terms of Use</a></strong> and <strong><a data-ui-action=privacy-policy-link href="<%= data.ppUrl %>">Privacy Policy</a></strong>. Please read these changes carefully. Your continued use of our Services constitutes your acceptance of the modified policies.</div><div></div></div>'},function(e,t,n){"use strict";n(333)},function(e,t){},,function(e,t,n){"use strict";n(336)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(339);var r=n(6),a=i(r);a.default.registerComponent("site/related_list",function(e){var t=n(202);t.formatVideoEmbeds($(e))})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(342);var r=n(6);i(r);n(344)},function(e,t){},,function(e,t,n){e.exports=n.p+"components/site/review_label/assets/rating_star.34fd003affb080fbec576983af03cd49.svg"},function(e,t,n){"use strict";n(346)},function(e,t){},,function(e,t,n){"use strict";n(191),n(192),n(195),n(100),n(349)},function(e,t){},,function(e,t,n){"use strict";n(352),n(354),n(356),n(358),n(359)},function(e,t){},,function(e,t){},,function(e,t){},,function(e,t,n){e.exports=n.p+"components/site/scorecard/assets/decagon.823729dd64d746d2b422f8f64b3176ba.svg"},function(e,t,n){e.exports=n.p+"components/site/scorecard/assets/venue.b010ff681f09320ec4577062349bc6b0.svg"},function(e,t,n){"use strict";n(361)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(364);var r=n(6),a=i(r);a.default.registerComponent("site/simple_map",function(e,t){var i=n(366);new i({el:e,lat:t.lat,lon:t.lon})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(367),o=i(s),u=n(368),l=i(u),c=a.default.View.extend({initialize:function(e){var t=this,n=this;n.opts=e;var e=_.extend({lat:0,lon:0,slug:"",label:"",cssClass:"c-simple-map__marker"},e);(0,o.default)().then(function(){t.map=new google.maps.Map(t.el,{center:new google.maps.LatLng(e.lat,e.lon),mapTypeControl:!1,panControl:!1,scrollwheel:!1,streetViewControl:!1,zoom:14,zoomControl:!0,zoomControlOptions:{position:google.maps.ControlPosition.RIGHT_CENTER}});var n=(0,l.default)(),i=new n(e);t.frame=i,i.setMap(t.map)})}});t.default=c,e.exports=t.default},function(e,t,n){(function(t){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){var t={callback:"_googleMapsAPILoaded",libraries:e.libs||"places,geometry",sensor:!1,v:3},n=l.currentNetwork.get(e.isPreview?"google_maps_preview_api_key":"google_maps_api_key");return n?t.key=n:t.client=l.currentNetwork.get("google_maps_client"),t}function a(e){var t=r(e),n=[];for(var i in t)n.push(i+"="+t[i]);return"https://maps.googleapis.com/maps/api/js?"+n.join("&")}var s,o=n(9),u=i(o),l=n(7);e.exports=function(e){return e=e||{},s||(s=u.default.Deferred(),t.google&&t.google.maps?s.resolve(google.maps):l.currentNetwork.fetch().done(function(){t._googleMapsAPILoaded=function(){s.resolve(google.maps)},u.default.getScript(a(e))})),s.promise()}}).call(t,function(){return this}())},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(10),a=i(r);e.exports=function(){function e(e){var t=(arguments.length<=1||void 0===arguments[1]?null:arguments[1],document.createElement("div"));t.className=e.cssClass,t.setAttribute("data-marker",e.slug);var n='<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 20 20" enable-background="new 0 0 20 20" xml:space="preserve">\n        <path d="M10,0.5c2.7-0.1,6.6,1.8,7.1,7c0.4,5.2-7.1,11.6-7.1,11.6l0,0c0,0-7.5-6.4-7.1-11.6C3.4,2.3,7.2,0.5,10,0.5"/>\n      </svg><span>'+e.label+"</span>";t.innerHTML=n,this.el=t,this.latlng=new google.maps.LatLng(e.lat,e.lon)}if("undefined"==typeof google||!google.maps)throw"googleMapsLoader must be run before requesting a googleMapsMarker";var t=new google.maps.OverlayView;return e.prototype=a.default.extend(t||{},{onAdd:function(){this.getPanes().overlayMouseTarget.appendChild(this.el)},onRemove:function(){this.el.parentNode.removeChild(this.el),this.el=null},draw:function(){var e=this.getProjection().fromLatLngToDivPixel(this.latlng);this.el.style.left=e.x+"px",this.el.style.top=e.y+"px"},isHilited:function(){return/\bhilite\b/.test(this.el.className)},hilite:function(){this.isHilited()||(this.el.className+=" hilite",this.el.parentNode.appendChild(this.el))},unhilite:function(){this.isHilited()&&(this.el.className=this.el.className.replace(/\shilite\b/,""))}}),e}},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(370);var r=n(6),a=i(r);a.default.registerComponent("site/sports_blog_directory",function(e,t){var i=n(372);new i({el:e})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=a.default.View.extend({currentTopic:null,initialize:function(){this.$headers=this.$(".c-sports-blog-directory__main").find("h2, h3, h4"),this.$entries=this.$(".c-sports-blog-directory__item"),this.$filter=this.$(".c-filter-list"),this.$textInput=this.$(".c-filter-list__search-input")},handleFilterChange:function(e,t){var n=t.replace("#","");this.$textInput.val(""),"all"===n?this.showAll():this.filterByTopic(n)},handleInputTextChange:function(e){var t=this.$textInput.val();t.length<3?this.currentTopic&&"all"!=this.currentTopic?this.filterByTopic(this.currentTopic):this.showAll():this.filterByText(t)},showAll:function(){this.$filter.removeClass("disabled"),this.$headers.show(),this.$entries.show()},filterByTopic:function(e){this.$filter.removeClass("disabled"),this.$headers.hide(),this.$entries.hide(),this.currentTopic=e,this.$("#"+e).show().nextUntil("h2").show()},filterByText:function(e){this.$headers.hide(),this.$filter.addClass("disabled"),this.$entries.each(function(t,n){var i=n.hasAttribute("data-featured"),r=n.innerText.toUpperCase().indexOf(e.toUpperCase())>=0;(0,o.default)(n).toggle(r&&!i)})},events:{"filter .c-filter-list":"handleFilterChange","keyup .c-filter-list__search-input":"handleInputTextChange"}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";n(191),n(192),n(100),n(374)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(287),n(377);var r=n(6),a=i(r),s=n(7);a.default.registerComponent("site/tab_bar/index",function(e){s.currentUser.fetch().done(function(){var t=n(379);new t({el:e})})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=n(10),l=i(u),c="tab-bar-fixed",d=a.default.View.extend({initialize:function(){var e=this,t=(0,o.default)(".main-social"),n=(0,o.default)("#comments"),i=!1,r=!1,a="[class*=kargo-ad]",s=!1;document.addEventListener("unisonTabBarOverride",function(t){t.detail.hasOwnProperty("visibility")?(r=!0,i=t.detail.visibility,e.toggleBarVisibility(i)):t.detail.reset&&(r=!1)});var u=(0,o.default)(window).on("scroll",l.default.throttle(function(){var l=u.scrollTop(),c=i;if(r)return!0;var d=t.length?t.offset().top:500;i=n.length?l>=d&&l<=n.offset().top:l>=d,c!==i&&e.toggleBarVisibility(i),i&&!s&&((0,o.default)(a).css("display","none"),s=!0)},200))},toggleBarVisibility:function(e){this.$el.toggleClass(c,e),window.dispatchEvent(new CustomEvent("unisonTabBarVisibility",{detail:{visible:e}}))}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";n(381)},function(e,t){},,function(e,t,n){"use strict";n(100),n(191),n(384)},function(e,t){},,function(e,t,n){"use strict";n(287),n(387)},function(e,t){},,function(e,t,n){"use strict";n(390)},function(e,t){},,function(e,t,n){"use strict";n(393)},function(e,t){},,function(e,t,n){"use strict";n(396)},function(e,t){},,function(e,t,n){"use strict";n(399)},function(e,t){},,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(403);var r=n(6),a=i(r);a.default.registerComponent("hub_zones/maps_hub",function(e){var t=n(405);new t({el:e})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(9),o=(i(s),n(10)),u=(i(o),n(30)),l=i(u),c=n(406),d=i(c),f=a.default.View.extend({initialize:function(){this.items=new d.default,this.listenTo(this.items,"reset",this.render)},render:function(){var e=this.tmpl=this.tmpl||(0,l.default)(this.$("#maps-hub-item-tmpl").html(),{variable:"data"}),t="";this.items.models.length>0?this.items.models.forEach(function(n){n.attributes.image_url=n.attributes.imagePermalink,t+=e(n.attributes)},this):t='<div class="c-maps-hub__none">No results found.</div>',this.$('[data-ui="map-items"]').html(t)},events:{"submit form":"reload","change select":"reload"},reload:function(e){e.preventDefault();var t={},n=this.$('[data-ui="query"]').val(),i=this.$('[data-ui="community"]').val();n&&(t.q=n),i&&(t.community_id=i),this.items.reload(t)}});e.exports=f},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(9),o=i(s),u=a.default.Collection.extend({reload:function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];if(this.q!==e.q||this.community_id!==e.community_id){this.q=e.q,this.community_id=e.community_id;var t="?"+o.default.param(e);history.replaceState({},"",t),this.url="/maps/search.json"+t,this.fetch({reset:!0})}}});e.exports=u},function(e,t,n){"use strict";n(408)},function(e,t){},,function(e,t,n){"use strict";n(411)},function(e,t){},,function(e,t,n){"use strict";n(414)},function(e,t){},,function(e,t,n){"use strict";n(417)},function(e,t){},,function(e,t,n){"use strict";n(420)},function(e,t){},,function(e,t,n){"use strict";n(423)},function(e,t){},,function(e,t,n){"use strict";n(426)},function(e,t){},,function(e,t,n){"use strict";n(429)},function(e,t){},,function(e,t,n){"use strict";n(432)},function(e,t){},,function(e,t,n){"use strict";n(435)},function(e,t){},,function(e,t,n){"use strict";n(438)},function(e,t){},,function(e,t,n){"use strict";n(441)},function(e,t){},,function(e,t,n){"use strict";n(444)},function(e,t){},,function(e,t,n){"use strict";n(447)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(450);var r=n(6),a=i(r);a.default.registerComponent("snippets/jobs_list",function(e,t){function i(e){for(var t=[],n=0;n<d.length;n++)d[n].test.test(e)&&t.push(d[n].label);return t.length?t.join(", "):e.replace(/\sOffice/gi,"")}function r(e){var t=document.location.search;return t.length&&(e=e+(e.indexOf("?")>-1?"&":"?")+t.slice(1)),e}function a(t){function n(e,n){for(var i=!0;i;){var r=e,a=n;if(i=!1,null==r.parent_id)return r;var s=t.departments.find(function(e){return r.parent_id==e.id});if(s&&null==s.parent_id)return s;e=s,n=a,i=!0,s=void 0}}var a=[];t.departments.forEach(function(e){var s=n(e,t.departments),o=(s?s.name:e.name).trim();"Editorial"==o&&(o=e.name.trim());var u=!l.length||l.indexOf(o)>-1;if(u&&e.jobs.length){var d=e.jobs.map(function(e){return{title:e.title,location:i(e.location.name),url:r(e.absolute_url)}}),f=a.map(function(e){return e.name}).indexOf(o);f>=0?a[f].jobs=a[f].jobs.concat(d):a.push({id:o.replace(/[\s\.\/\\,&]/g,""),name:o,promote:c.indexOf(o)>-1,jobs:d})}}),a.sort(function(e,t){return e.promote&&!t.promote?-1:!e.promote&&t.promote?1:e.name.localeCompare(t.name)}),s(e).find("#jobs-list").html(o(u)({departments:a}))}var s=n(9),o=n(30),u=n(452),l=t.filter||[],c=t.promote||[],d=[{test:/New York|\bNYC?\b/,label:"NY"},{test:/Washington|\bDC\b/,label:"DC"},{test:/San Francisco|\bSF\b/,label:"SF"},{test:/Los Angeles|\bLA\b/,label:"LA"},{test:/Austin/,label:"Austin"},{test:/Chicago/,label:"Chicago"},{test:/Remote/i,label:"Remote"}];s.getJSON("https://api.greenhouse.io/v1/boards/voxmedia/embed/departments?callback=?",a)})},function(e,t){},,function(e,t){e.exports='<% data.departments.forEach(function(department) { %><h2 id="<%= department.id %>"><%= department.name %></h2><ul class=c-jobs__list><% department.jobs.forEach(function(job) { %><li><a href="<%= job.url %>"><%= job.title %></a> <span><%= job.location %></span></li><% }) %></ul><% }) %>'},function(e,t,n){"use strict";n(454)},function(e,t){},,function(e,t,n){"use strict";n(457)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(460);var r=n(6),a=i(r);a.default.registerComponent("snippets/pullquote_list",function(e){var t=n(462);new t({el:e})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(15),o=i(s),u=a.default.View.extend({index:0,inTransition:!1,timer:null,cycleInterval:8e3,initialize:function(){this.$items=this.$("li"),this.$pager=this.$('[data-ui="pager"]');var e="";this.$items.each(function(t){e+='<span data-to="'+t+'"></span>'}),this.$pager.html(e),this.updatePage();var t=this,n=setTimeout(function(){t.setMinHeight(),clearTimeout(n)},500);this.timer=setTimeout(function(){t.advance(1)},this.cycleInterval),this.startTimer()},stopTimer:function(){clearTimeout(this.timer)},startTimer:function(){this.stopTimer();var e=this;this.timer=setTimeout(function(){e.advance(1)},this.cycleInterval)},advance:function(e){if(e&&!this.inTransition){this.stopTimer();var t=this.index,n=t+e,i=this.$items.length-1,r=e<0,a=["offscreen-left","offscreen-right"],s=r?a[0]:a[1],u=r?a[1]:a[0],l=this;n>i?n=0:n<0&&(n=i);var c=this.$items.eq(t),d=this.$items.eq(n).addClass(s).css("display","block");setTimeout(function(){d.removeClass(s),c.one(o.default.TRANSITION_END,function(){c.hide().removeClass(u),l.inTransition=!1}).addClass(u),l.setMinHeight(d)},0),this.inTransition=!0,this.index=n,this.updatePage(),this.startTimer()}},setMinHeight:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e||(e=this.$el.find(".c-pullquotes-list__quote").first());var t=e.height()+100;this.$el.height()<t&&this.$el.height(t)},to:function(e){this.advance(e-this.index)},updatePage:function(){this.$pager.children().removeClass("active").eq(this.index).addClass("active")},events:{"click [data-advance]":"onAdvance","click [data-to]":"onTo"},onAdvance:function(e){e.preventDefault(),this.advance(this.$(e.currentTarget).data("advance"))},onTo:function(e){e.preventDefault(),this.to(this.$(e.currentTarget).data("to"))}});t.default=u,e.exports=t.default},function(e,t,n){"use strict";n(464)},function(e,t){},,function(e,t,n){"use strict";n(467)},function(e,t){},,function(e,t,n){"use strict";n(470)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(473);var r=n(6),a=i(r);a.default.registerComponent("snippets/showcase",function(e){var t=n(475);new t({el:e})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=a.default.View.extend({initialize:function(){this.index=0},toggleMedia:function(e){this.$(e.currentTarget).addClass("active").siblings().removeClass("active"),this.index=this.$(e.currentTarget).data("index"),this.$('[data-media="'+this.index+'"]').addClass("visible").siblings().removeClass("visible")},events:{'click [data-ui="toggle_media"]':"toggleMedia"}});t.default=s,e.exports=t.default},function(e,t,n){"use strict";n(477)},function(e,t){},,function(e,t,n){"use strict";n(480)},function(e,t){},,function(e,t,n){"use strict";n(483)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(486);var r=n(6),a=i(r);a.default.registerComponent("sidebar_rocks/dribble_shot",function(e,t){var i=n(488),r=n(489),a=new i(t.dribble_team,t.access_token);new r({el:e,model:a})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(28),o=i(s),u=a.default.Model.extend(o.default.extend({urls:{endpoint:""},initialize:function(e,t){this.urls.endpoint="https://api.dribbble.com/v1/teams/"+e+"/shots?access_token="+t},defaults:{dribbleShots:[]},loadServiceData:function(){var e=this;return this.ajax("endpoint",{dataType:"jsonp",success:function(t){e.set("dribbleShots",t.data)}})}}));t.default=u,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=a.default.View.extend({initialize:function(){var e=this;this.model.loadServiceData().done(function(){e.render()}).fail(function(){console.log("failed to load data from"+e.model.urls.endpoint)})},render:function(){this.$el.find(".c-rock-dribble-shots__items").empty().append(this.model.get("dribbleShots").map(function(e){return'<li class="c-rock-dribble-shot__item"><a href="'+e.html_url+'"><img src="'+e.images.normal+'" /></a></li>'}).join(""))}});t.default=s,e.exports=t.default},function(e,t,n){"use strict";n(491)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(494);var r=n(6),a=i(r);a.default.registerComponent("sidebar_rocks/flickr_pool",function(e,t){var i=n(496),r=n(497);new r({el:e,model:new i(t.flickr_pool_id)})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(28),o=i(s),u=13,l=a.default.Model.extend(o.default.extend({urls:{endpoint:""},initialize:function(e){this.urls.endpoint="https://api.flickr.com/services/feeds/groups_pool.gne?format=json&id="+e},defaults:{poolImages:[]},loadServiceData:function(){var e=this;return this.ajax("endpoint",{dataType:"jsonp",jsonp:"jsoncallback",success:function(t){Array.isArray(t.items)&&e.set("poolImages",t.items.slice(0,u))}})}}));t.default=l,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=a.default.View.extend({initialize:function(){var e=this;this.model.loadServiceData().done(function(){e.render()}).fail(function(){console.log("failed to load data from"+e.model.urls.endpoint)})},render:function(){this.$el.find(".c-rock-flickr-pool__items").empty().append(this.model.get("poolImages").map(function(e,t){return 0===t?'<li><a href="'+e.link+'"><img src="'+e.media.m.replace("_m.",".")+'" /></a></li>':'<li><a href="'+e.link+'"><img src="'+e.media.m.replace("_m.","_q.")+'" /></a></li>'}).join(""))}});t.default=s,e.exports=t.default},function(e,t,n){"use strict";n(499)},function(e,t){},,function(e,t,n){"use strict";n(502)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(100),n(505);var r=n(6),a=i(r),s=n(9),o=i(s);a.default.registerComponent("sidebar_rocks/link_list/video_entry",function(e,t){var i=n(18);if(i.isMobile()){var r=(0,o.default)(e).find(".c-rock-list__image");r.removeAttr("src"),a.default.get("site/video_embed").embed(r[0],t)}else(0,o.default)(e).on("click",".c-rock-list__image",function(e){e.preventDefault(),a.default.get("site/video_embed").modal(t)})})},function(e,t){},,function(e,t,n){"use strict";n(508)},function(e,t){},,,function(e,t,n){"use strict";n(303),n(512)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(515);var r=n(6),a=i(r);a.default.registerComponent("sidebar_rocks/product_team_stat",function(e,t){var i=n(517),r=n(518),a=t.api_url||null;new i({el:e,model:new r(a)})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=a.default.View.extend({initialize:function(){var e=this;this.model.loadServiceData().done(function(){e.render()}).fail(function(){console.log("failed to load data from"+e.model.urls.endpoint)})},render:function(){this.$el.find(".c-rock-prod-team-stat__stats").empty().append(this.model.get("statPoints").map(function(e){return'<li><span class="c-rock-prod-team-stat__stat-count">'+e[1]+"</span>"+e[0]+"</li>"}).join(""))}});t.default=s,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(28),o=i(s),u=a.default.Model.extend(o.default.extend({urls:{endpoint:"/system/stats"},initialize:function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];e&&(this.urls.endpoint=e)},defaults:{statPoints:[]},loadServiceData:function(){var e=this;return this.ajax("endpoint",{dataType:"jsonp",success:function(t){e.set("statPoints",t)}})}}));t.default=u,e.exports=t.default},function(e,t,n){"use strict";n(520)},function(e,t){},,function(e,t,n){"use strict";n(523)},function(e,t){},,function(e,t,n){"use strict";n(526)},function(e,t){},,function(e,t,n){"use strict";n(529)},function(e,t){},,function(e,t,n){"use strict";n(100),n(191),n(195),n(190),n(532)},function(e,t){},,function(e,t,n){"use strict";n(535)},function(e,t){},,function(e,t,n){"use strict";n(538)},function(e,t){},,function(e,t,n){"use strict";n(541)},function(e,t){},,function(e,t,n){"use strict";n(100),n(97),n(544)},function(e,t){},,function(e,t,n){"use strict";n(547)},function(e,t){},,function(e,t,n){"use strict";n(550)},function(e,t){},,function(e,t,n){"use strict";n(303),n(553)},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(556);var r=n(6),a=i(r);a.default.registerComponent("embeds/place",function(e,t){var i=n(558);new i({el:e})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(9),o=i(s),u=3,l=a.default.View.extend({initialize:function(){var e=this;if(!(this.$el.prev(".c-place-embed").length>0)){var t=this.adjacentSiblings();if(!(t.length<u)){var n=(0,o.default)('<div class="c-place-embed__carousel"><div class="c-place-embed__carousel-next"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-right"></use></svg></div><div class="c-place-embed__carousel-prev"><svg><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#icon-left"></use></svg></div></div>');n.on("click",".c-place-embed__carousel-next",function(){e.moveCarousel(n,1)}),n.on("click",".c-place-embed__carousel-prev",function(){e.moveCarousel(n,-1)}),this.$el.before(n),n.append(t),n.data({"carousel-panes":t.length,"carousel-current":1})}}},moveCarousel:function(e,t){var n=e.data("carousel-panes"),i=parseInt(e.data("carousel-current")),r=i+t;r<1&&(r=n),r>n&&(r=1),e.data("carousel-current",r),e.find(".c-place-embed").css({transform:"translateX(-"+100*(r-1)+"%)"})},adjacentSiblings:function(){for(var e=(0,o.default)().add(this.$el),t=this.$el.next(".c-place-embed");t.length>0;)e=e.add(t),t=t.next(".c-place-embed");return e}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(560);var r=n(6),a=i(r);a.default.registerComponent("apps/ad_survey",function(e,t){var i=n(562);new i(e,t)})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){this.model=new u.default(t),this.surveyFormView=new s.default({el:e,model:this.model})}var a=n(563),s=i(a),o=n(566),u=i(o);e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(564),o=i(s),u=n(19),l=i(u),c=n(30),d=i(c),f=n(565),h=i(f),p=a.default.View.extend({template:(0,d.default)(h.default),html:"",events:{'click input[type="submit"]':"submit"},storageKey:"ad-survey-taken",initialize:function(e){this.model=e.model,"yes"!==l.default.get(this.storageKey)&&o.default.isAdBlockEnabled()&&this.render()},render:function(){return this.$el.html(this.template({responses:this.model.responses})),this.$el},submit:function(e){l.default.set(this.storageKey,"yes"),this.$el.remove()}});t.default=p,e.exports=t.default},function(e,t){"use strict";e.exports={isAdBlockEnabled:function(){var e=document.createElement("div");return e.innerHTML="&nbsp;",e.className="adsbox",document.body.appendChild(e),this._isAdBlockEnabled=0===e.offsetHeight,e.remove(),this._isAdBlockEnabled}}},function(e,t){e.exports='<div class=c-ad-survey__form><div class=c-ad-survey__form-intro><p class=c-ad-survey__form-logo>Vox Media User Survey</p><h2 class=c-ad-survey__form-header>Help us improve our ads by sharing the primary reason(s) you use an ad blocker:</h2><p class=c-ad-survey__form-help>Check all that apply</p></div><div class=c-ad-survey__form-body><form method=post action=/surveys/ad><% data.responses.forEach(function(response, index) { %><label class=c-ad-survey__form-label><input class="c-ad-survey__form-checkbox p-checkbox" type=checkbox name="reason_<%= index %>" id="reason_<%= index %>" value="<%= response.value %>"><%= response.text %></label><% }) %><label class=c-ad-survey__form-label><input class="c-ad-survey__form-checkbox p-checkbox" type=checkbox name=reason_6 id=reason_6 value="other"> Other</label><textarea class="c-ad-survey__form-textarea p-textarea" name=details placeholder="Type your reason(s) here"></textarea><input class="c-ad-survey__form-submit p-button" type=submit value="Submit Response"><p class="c-ad-survey__form-help u-centered">All responses are anonymous</p></form></div></div>';
},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=a.default.Model.extend({responses:[],initialize:function(e){if(e.ad_survey_running)for(var t,n=e.responses||[],i=0;i<n.length;i++)t=n[i],this.responses.push({text:t,value:this.parameterize(t)})},parameterize:function(e){return e.trim().replace(/[^a-zA-Z0-9-\s]/g,"").replace(/[^a-zA-Z0-9-]/g,"-").toLowerCase()}});t.default=s,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n(568);var r=n(6),a=i(r);a.default.registerComponent("apps/image_gallery",function(e,t){var i=n(570);new i(e,t)})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e,t){var n={app:this};this.images=new u.default(this.collectImageData(e)),t.routing&&(this.router=new p.default(n)),t.keyboard&&(this.keyboard=new v.default(n)),this.resizer=new f.default(n),this.galleryView=new c.default({el:e,app:this})}var a=n(9),s=i(a),o=n(571),u=i(o),l=n(572),c=i(l),d=n(575),f=i(d),h=n(576),p=i(h),m=n(577),v=i(m),g=n(10),_=i(g);r.prototype={collectImageData:function(e){var t=[];return(0,s.default)(e).find('[data-ui="thumb"]').each(function(){var e=(0,s.default)(this),n=e.find("noscript").text();t.push({asset_id:e.data("asset"),slug:e.attr("data-slug"),caption:_.default.unescape(e.find(".c-image-gallery__thumb-desc").html()),title:_.default.unescape(e.find(".c-image-gallery__thumb-title").html()),thumb_url:n.replace(/.*src="([^"]*)".*/,"$1"),image_url:e.find("a").first().attr("href")})}),t}},e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(103),o=i(s),u=a.default.Model.extend({defaults:{slug:"",asset_id:null,image_id:null,image_url:"",thumb_url:""},requestSize:function(e,t){this._dyn=o.default.addRect(e,t,this.toJSON())},fullsizeURL:function(){return this._dyn&&this._dyn.get("url")||this.get("image_url")}}),l=a.default.Collection.extend({model:u,_selection:0,selectedIndex:function(){return this.length<1?-1:Math.max(0,Math.min(this._selection,this.length-1))},selectedImage:function(){return this.length<1?null:this.at(this.selectedIndex())},selectedSlug:function(){var e=this.selectedImage();return e?e.get("slug"):null},next:function(){if(!(this.length<1)){var e=this._selection+1;this.selectByIndex(e<this.length?e:0)}},previous:function(){if(!(this.length<1)){var e=this._selection-1;this.selectByIndex(e>=0?e:this.length-1)}},selectByIndex:function(e){return e>=0&&e<this.length&&e!=this._selection&&(this._selection=e,this.trigger("selection"),!0)},selectBySlug:function(e){for(var t=0;t<this.length;t++)if(this.at(t).get("slug")===e)return this.selectByIndex(t),!0;return!1}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=n(9),o=i(s),u=n(10),l=i(u),c=n(15),d=i(c),f=n(20),h=i(f),p=n(16),m=i(p),v=a.default.View.extend({initialize:function(e){var t=this;this.app=e.app,this.images=e.app.images,this.requestSizedImages(),this.$scroller=this.$('[data-ui="scroller"]').removeClass("noscript-accessible"),this.$thumbs=this.$('[data-ui="thumb"]'),this.$thumb=this.$thumbs.eq(0).closest("li"),this.$reel=this.$thumb.closest("ul"),h.default.trackElement(this.el,function(){t.loadThumbs(),t.render()}),this.listenTo(this.images,"selection",this.render)},requestSizedImages:function(){var e=this.$('[data-ui="viewer"]'),t=e.width(),n=e.height();this.images.models.forEach(function(e){e.requestSize(t,n)})},loadThumbs:function(){var e=this;this.$thumbs.each(function(t,n){n.style.backgroundImage="url("+e.images.at(t).get("thumb_url")+")"})},wait:function(e){e&&!this.$loader?(this.$loader=(0,o.default)('<div class="p-loader"></div>'),this.$('[data-ui="viewer"]').append(this.$loader)):!e&&this.$loader&&(this.$loader.remove(),this.$loader=null)},render:l.default.debounce(function(){function e(){if(i++,!(i<2)){var e=(0,o.default)(a);n.replaceWith(e),setTimeout(function(){e.addClass("present"),r.wait(!1)},0)}}var t=this.images.selectedImage();if(t){var n=this.$('[data-ui="viewer"] img'),i=0,r=this,a=new Image;return a.onload=e,a.src=t.fullsizeURL(),d.default.TRANSITION_END&&n.hasClass("present")?n.one(d.default.TRANSITION_END,e).removeClass("present"):e(),this.wait(!0),this.renderMeta(),this.renderThumbs(),this.$el}},25),renderMeta:function(){this.$i=this.$i||this.$('[data-ui="index"]'),this.$c=this.$c||this.$('[data-ui="caption"]');var e=this.images.selectedIndex()+1,t=this.images.length;this.$i.html(e+" of "+t);var n=this.images.selectedImage(),i="";if(n){var r=n.get("title"),a=n.get("caption");r&&(i+="<strong>"+r+"</strong> "),a&&(i+=a)}this.$c.html(i)},renderThumbs:function(){var e,t=this.images.selectedIndex(),n=parseInt(this.$thumb.css("marginRight")),i=this.$thumb.width()+n,r=this.$thumbs.length*i-n,a=this.$scroller.width(),s=r-a;this.$thumbs.each(function(){var e=(0,o.default)(this);e.toggleClass("active",e.data("index")==t)}),r<a?e=(a-r)/2:(e=t*i+i/2-a/2,e=-Math.round(Math.max(0,Math.min(e,s)))),this.$reel.width(r).css("transform","translateX("+e+"px)"),this._x=e,this.setThumbPage({extent:r,range:a})},setThumbPage:function(e){var t=e.extent||this.$reel.width(),n=e.range||this.$scroller.width(),i=t-n,r=Math.abs(this._x||0),a=this.$('[data-ui="prev-page"]'),s=this.$('[data-ui="next-page"]');if(t<n)return a.prop("disabled",!0),void s.prop("disabled",!0);if(e.page){r=Math.max(0,Math.min(r+n/1.25*e.page,i));var o=this.$thumb.width();e.page<0&&r<o?r=0:e.page>0&&i-r<o&&(r=i),this.$reel.css("transform","translateX(-"+r+"px)"),this._x=-r}a.prop("disabled",0===r),s.prop("disabled",r===i)},events:{'click [data-ui="prev-image"]':"prevImg",'click [data-ui="next-image"]':"nextImg",'click [data-ui="prev-page"]':"prevPage",'click [data-ui="next-page"]':"nextPage",'click [data-ui="expand"]':"toggleFullScreen",'click [data-ui="thumb"]':"thumb",'click [data-ui="grid"]':"grid"},prevImg:function(e){e.preventDefault(),this.images.previous()},nextImg:function(e){e.preventDefault(),this.images.next()},prevPage:function(e){e.preventDefault(),this.setThumbPage({page:-1})},nextPage:function(e){e.preventDefault(),this.setThumbPage({page:1})},thumb:function(e){e.preventDefault();var t=(0,o.default)(e.currentTarget).data("index");this.images.selectByIndex(t)},grid:function e(t){t.preventDefault();var i=n(573),e=new i({collection:this.images});m.default.dialog(e.render())},toggleFullScreen:function(e){e.preventDefault();var t=!this.$el.hasClass("full-screen");this.$(".c-image-gallery__viewer-expand svg use").attr("xlink:href",t?"#icon-full-screen-exit":"#icon-full-screen"),this.$(".c-image-gallery__viewer-expand-text").html(t?"collapse":"expand"),this.$el.toggleClass("full-screen expanded",t),(0,o.default)("body").toggleClass("gallery-full-screen",t)}});e.exports=v},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(16),o=i(s),u=n(30),l=i(u),c=n(574),d=i(c),f=a.default.View.extend({className:"c-image-gallery__grid",render:function(e){return this.tmpl=this.tmpl||(0,l.default)(d.default),this.$el.html(this.tmpl({images:this.collection.toJSON(),index:0})),this.$el.find('[data-index="'+this.collection.selectedIndex()+'"]').addClass("active"),this.$el},events:{"click [data-index]":"thumb"},thumb:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("index");this.collection.selectByIndex(t),o.default.close()}});t.default=f,e.exports=t.default},function(e,t){e.exports='<ul><% data.images.forEach(function(image) { %><li><a href="<%= image.image_url %>" data-ui=thumb data-index="<%= data.index++ %>"><img src="<%= image.thumb_url %>" alt=""></a></li><% }) %></ul>'},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){this.app=e.app,(0,s.default)(window).on("resize",u.default.debounce(this.update.bind(this),200)).on("orientationchange",this.update.bind(this))}var a=n(9),s=i(a),o=n(10),u=i(o);r.prototype={update:function(){this.app.galleryView.renderThumbs()}},e.exports=r},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(8),a=i(r),s=a.default.Router.extend({initialize:function(e){var t=this;this.app=e.app,this.listenTo(this.app.images,"selection",this.push),setTimeout(function(){t.push()},1e3),window.top!==window||a.default.History.started||a.default.history.start()},routes:{":slug":"pull"},pull:function(e){this.app.images.selectBySlug(e)},push:function(){var e=this.app.images.selectedImage();this.navigate(e.get("slug"))}});e.exports=s},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){this.app=e.app,this.enable()}Object.defineProperty(t,"__esModule",{value:!0});var a=n(9),s=i(a);r.prototype={ns:"keydown.gallery",enable:function(){var e=this;this.disable().on(this.ns,function(t){switch(t.keyCode){case 37:return e.app.images.previous();case 39:return e.app.images.next()}})},disable:function(){return(0,s.default)(document).off(this.ns)}},t.default=r,e.exports=t.default},function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){return a||(a=l.default.Deferred(),n.e(12,function(){a.resolve(n(581))})),a.promise()}n(579);var a,s=n(6),o=i(s),u=n(9),l=i(u);o.default.registerComponent("apps/poll",function(e,t){r().then(function(n){new n(e,t)})})},function(e,t){},,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(){return a||(a=l.default.Deferred(),n.e(13,function(){a.resolve(n(588))})),a.promise()}n(586);var a,s=n(6),o=i(s),u=n(9),l=i(u);o.default.registerComponent("apps/scoreboard",function(e,t){r().then(function(n){new n(e,t)})})},function(e,t){},,,,,,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(6),a=i(r);n(593),a.default.registerComponent("apps/interactive_table",function(e,t){var i=n(595);new i({el:e,opts:t})})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),a=i(r),s=n(10),o=i(s),u=a.default.View.extend({initialize:function(e){var t=this.$("table"),i=this;this.opts=o.default.extend({paging:!0,per_page:-1,searchable:!0,sort_column:1,sort_descending:!1,sortable:!0},e.opts),this.opts.paging||this.opts.sortable||this.opts.searchable?n.e(14,function(e){n(596);t.DataTable({info:i.opts.paging,lengthMenu:[[-1,10,25,50,75,100],["All",10,25,50,75,100]],order:[[i.opts.sort_column,i.opts.sort_descending?"desc":"asc"]],ordering:i.opts.sortable,pageLength:i.opts.per_page,paging:i.opts.paging,searching:i.opts.searchable,language:{lengthMenu:"Display _MENU_ rows",info:"Showing _START_ to _END_ of _TOTAL_ rows",infoEmpty:"Showing 0 rows",infoFiltered:"(filtered from _MAX_ total)",search:"<span>Search:</span>"},initComplete:function(){i.$('input[type="search"]').addClass("p-text-input"),i.$("select").addClass("p-selectbox"),i.$el.removeClass("loading"),i.applyMobileHeads()}})}):this.applyMobileHeads()},applyMobileHeads:function(){var e=this.$("table"),t=e.find("thead > tr > th"),n='<style type="text/css">',i=this.$el.attr("data-cid");t.each(function(e,t){n=n+' div[data-cid="'+i+'"] td:nth-child( '+(e+1)+' )::before { content: "'+$(t).text()+' : "; }'}),n+="</style>",$("head").append(n)}});t.default=u,e.exports=t.default},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}var r=n(6),a=i(r);n(598),a.default.registerComponent("apps/buying_guide",function(e,t){var i=n(600);i.init(e)})},function(e,t){},,function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var r=n(9),a=i(r),s=n(10),o=i(s),u=function(){var e,t,n=o.default.debounce(function(){var e={};if(t.find(".c-buying-guide__filter_value.selected").each(function(){var t=(0,a.default)(this),n=t.attr("data-filter-id"),i=t.attr("data-filter-value");e[n]=e[n]||[],e[n].push(i)}),a.default.isEmptyObject(e))return void t.find(".c-buying-guide__item").show();var n=t.find(".c-buying-guide__items"),i=t.find(".c-buying-guide__item").get().map(function(e){return e.id});for(var r in e){var s=e[r],o=s.map(function(e){return"[data-"+r+"~='"+e+"']"}).join(),u=n.find(o).get().map(function(e){return e.id});i=i.filter(function(e){return u.indexOf(e)!==-1})}n.find(".c-buying-guide__item").hide(),n.find(i.map(function(e){return"#"+e}).join(",")).show()},250);return{init:function(i){e=i,t=(0,a.default)(e),t.find(".c-buying-guide__filter .c-buying-guide__filter_value").each(function(){(0,a.default)(this).on("click",function(){var e=(0,a.default)(this);e.toggleClass("selected"),n()})})}}}();t.default=u,e.exports=t.default},function(e,t){}]);